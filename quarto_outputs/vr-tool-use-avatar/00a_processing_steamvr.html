<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.186">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Joshua Bell">
<meta name="dcterms.date" content="2023-03-04">

<title>Avatar VR - Processing - Reaching - SteamVR</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="00a_processing_steamvr_files/libs/clipboard/clipboard.min.js"></script>
<script src="00a_processing_steamvr_files/libs/quarto-html/quarto.js"></script>
<script src="00a_processing_steamvr_files/libs/quarto-html/popper.min.js"></script>
<script src="00a_processing_steamvr_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="00a_processing_steamvr_files/libs/quarto-html/anchor.min.js"></script>
<link href="00a_processing_steamvr_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="00a_processing_steamvr_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="00a_processing_steamvr_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="00a_processing_steamvr_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="00a_processing_steamvr_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul class="collapse">
  <li><a href="#package-and-session-info" id="toc-package-and-session-info" class="nav-link active" data-scroll-target="#package-and-session-info">Package and Session Info</a></li>
  <li><a href="#import-data" id="toc-import-data" class="nav-link" data-scroll-target="#import-data">Import Data</a></li>
  <li><a href="#position-filter" id="toc-position-filter" class="nav-link" data-scroll-target="#position-filter">Position Filter</a></li>
  <li><a href="#velocity-calculation" id="toc-velocity-calculation" class="nav-link" data-scroll-target="#velocity-calculation">Velocity calculation</a></li>
  <li><a href="#kinematic-filtering" id="toc-kinematic-filtering" class="nav-link" data-scroll-target="#kinematic-filtering">Kinematic filtering</a></li>
  <li><a href="#movement-onset" id="toc-movement-onset" class="nav-link" data-scroll-target="#movement-onset">Movement Onset</a></li>
  <li><a href="#individualized-adjustments" id="toc-individualized-adjustments" class="nav-link" data-scroll-target="#individualized-adjustments">Individualized Adjustments</a></li>
  <li><a href="#removals-imputation-and-export" id="toc-removals-imputation-and-export" class="nav-link" data-scroll-target="#removals-imputation-and-export">Removals, Imputation and Export</a></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Avatar VR - Processing - Reaching - SteamVR</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Joshua Bell </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">March 4, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<p>Processes the SteamVR tracking data for the participants whose PPT data did not record in the pre-test. Ultimately, averages both filtered position and IMU-based velocity data to create a single kinematic profile, which reasonably approximates the PPT data.</p>
<section id="package-and-session-info" class="level2">
<h2 class="anchored" data-anchor-id="package-and-session-info">Package and Session Info</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># PPT Reaching Data -------------------------------------------------------</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Load necessary libraries ------------------------------------------------</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>pkgs <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"data.table"</span>, <span class="st">"dplyr"</span>, <span class="st">"readr"</span>, <span class="st">"tidyfast"</span>, <span class="st">"stringr"</span>, <span class="st">"tidyr"</span>, <span class="st">"magrittr"</span>, <span class="st">"purrr"</span>, <span class="st">"signal"</span>, <span class="st">"here"</span>, <span class="st">"missForest"</span>, <span class="st">"simputation"</span>)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> pkgs) {</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="sc">!</span>i <span class="sc">%in%</span> <span class="fu">rownames</span>(<span class="fu">installed.packages</span>())) {</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>      <span class="fu">install.packages</span>(i)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>      <span class="fu">library</span>(i, <span class="at">character.only =</span> <span class="cn">TRUE</span>)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>      (<span class="fu">library</span>(i, <span class="at">character.only =</span> <span class="cn">TRUE</span>))</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'data.table' was built under R version 4.2.2</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'dplyr' was built under R version 4.2.2</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'dplyr'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:data.table':

    between, first, last</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:stats':

    filter, lag</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:base':

    intersect, setdiff, setequal, union</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'readr' was built under R version 4.2.2</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'stringr' was built under R version 4.2.2</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'tidyr' was built under R version 4.2.2</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'magrittr'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:tidyr':

    extract</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'purrr' was built under R version 4.2.2</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'purrr'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:magrittr':

    set_names</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:data.table':

    transpose</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'signal'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:dplyr':

    filter</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:stats':

    filter, poly</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>here() starts at C:/Repositories/R Projects/dissertation-analysis</code></pre>
</div>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>data.table<span class="sc">::</span><span class="fu">setDTthreads</span>(<span class="at">percent =</span> <span class="dv">90</span>)</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="fu">sessionInfo</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>R version 4.2.1 (2022-06-23 ucrt)
Platform: x86_64-w64-mingw32/x64 (64-bit)
Running under: Windows 10 x64 (build 19044)

Matrix products: default

locale:
[1] LC_COLLATE=English_United States.utf8 
[2] LC_CTYPE=English_United States.utf8   
[3] LC_MONETARY=English_United States.utf8
[4] LC_NUMERIC=C                          
[5] LC_TIME=English_United States.utf8    

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

other attached packages:
 [1] simputation_0.2.8 missForest_1.5    here_1.0.1        signal_0.7-7     
 [5] purrr_1.0.1       magrittr_2.0.3    tidyr_1.3.0       stringr_1.5.0    
 [9] tidyfast_0.2.1    readr_2.1.4       dplyr_1.1.0       data.table_1.14.8

loaded via a namespace (and not attached):
 [1] Rcpp_1.0.10          gower_1.0.1          pillar_1.8.1        
 [4] compiler_4.2.1       rngtools_1.5.2       iterators_1.0.14    
 [7] tools_4.2.1          rpart_4.1.19         digest_0.6.31       
[10] jsonlite_1.8.4       evaluate_0.20        lifecycle_1.0.3     
[13] tibble_3.1.8         doRNG_1.8.6          pkgconfig_2.0.3     
[16] rlang_1.0.6          foreach_1.5.2        cli_3.6.0           
[19] parallel_4.2.1       yaml_2.3.7           xfun_0.37           
[22] fastmap_1.1.1        knitr_1.42           generics_0.1.3      
[25] vctrs_0.5.2          htmlwidgets_1.6.1    hms_1.1.2           
[28] rprojroot_2.0.3      tidyselect_1.2.0     glue_1.6.2          
[31] R6_2.5.1             fansi_1.0.4          rmarkdown_2.20      
[34] tzdb_0.3.0           itertools_0.1-3      codetools_0.2-19    
[37] htmltools_0.5.4      ellipsis_0.3.2       MASS_7.3-58.2       
[40] randomForest_4.7-1.1 utf8_1.2.3           stringi_1.7.12      </code></pre>
</div>
</div>
</section>
<section id="import-data" class="level2">
<h2 class="anchored" data-anchor-id="import-data">Import Data</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Set-up: Filter specification and .csv import ----------------------------</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="co"># 10hz Butterworth low-pass filter used for analyses</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>b_10hz <span class="ot">&lt;-</span> <span class="fu">butter</span>(<span class="dv">1</span>, <span class="fu">c</span>(.<span class="dv">1</span>), <span class="at">type =</span> <span class="st">"low"</span>)</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Parse data from UXF</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>trial_details <span class="ot">&lt;-</span> <span class="fu">list.files</span>(</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">path =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data"</span>, <span class="st">"3_avatartooluse"</span>),</span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">pattern =</span> <span class="st">"trial_results.csv"</span>,</span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">full.names =</span> <span class="cn">TRUE</span>,</span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">recursive =</span> <span class="cn">TRUE</span></span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> purrr<span class="sc">::</span><span class="fu">map_dfr</span>(fread) <span class="sc">%&gt;%</span> <span class="fu">as.data.table</span>() <span class="sc">%&gt;%</span></span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a>dplyr<span class="sc">::</span><span class="fu">filter</span>(</span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a>  ppid <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"d3-006"</span>, <span class="st">"d3-007"</span>, <span class="st">"d3-012"</span>, <span class="st">"d3-024"</span>)</span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-17"><a href="#cb23-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Read manually-adjusted start times</span></span>
<span id="cb23-18"><a href="#cb23-18" aria-hidden="true" tabindex="-1"></a>manual_latency_fix <span class="ot">&lt;-</span>  <span class="fu">fread</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data"</span>, <span class="st">"study_three"</span>, <span class="st">"latency_fixes_steamvr.csv"</span>))</span>
<span id="cb23-19"><a href="#cb23-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-20"><a href="#cb23-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Manual - Wrist ------------------------------------------------</span></span>
<span id="cb23-21"><a href="#cb23-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-22"><a href="#cb23-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Parse file locations</span></span>
<span id="cb23-23"><a href="#cb23-23" aria-hidden="true" tabindex="-1"></a>steamvr_m_files <span class="ot">&lt;-</span> trial_details <span class="sc">%&gt;%</span></span>
<span id="cb23-24"><a href="#cb23-24" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(</span>
<span id="cb23-25"><a href="#cb23-25" aria-hidden="true" tabindex="-1"></a>        ppid, experiment,</span>
<span id="cb23-26"><a href="#cb23-26" aria-hidden="true" tabindex="-1"></a>        block_num, trial_num_in_block,</span>
<span id="cb23-27"><a href="#cb23-27" aria-hidden="true" tabindex="-1"></a>        manual_reach_openvr_movement_steamvr_location_0</span>
<span id="cb23-28"><a href="#cb23-28" aria-hidden="true" tabindex="-1"></a>    )  <span class="sc">%&gt;%</span></span>
<span id="cb23-29"><a href="#cb23-29" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(manual_reach_openvr_movement_steamvr_location_0) <span class="sc">&amp;</span></span>
<span id="cb23-30"><a href="#cb23-30" aria-hidden="true" tabindex="-1"></a>        manual_reach_openvr_movement_steamvr_location_0 <span class="sc">!=</span> <span class="st">""</span>) <span class="sc">%&gt;%</span></span>
<span id="cb23-31"><a href="#cb23-31" aria-hidden="true" tabindex="-1"></a>    <span class="fu">as.data.table</span>() <span class="sc">%&gt;%</span></span>
<span id="cb23-32"><a href="#cb23-32" aria-hidden="true" tabindex="-1"></a>        dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb23-33"><a href="#cb23-33" aria-hidden="true" tabindex="-1"></a>            <span class="at">manual_reach_openvr_movement_steamvr_location_0 =</span> <span class="fu">fifelse</span>(</span>
<span id="cb23-34"><a href="#cb23-34" aria-hidden="true" tabindex="-1"></a>                <span class="fu">str_detect</span>(manual_reach_openvr_movement_steamvr_location_0, <span class="st">"3_avatartooluse 1"</span>),</span>
<span id="cb23-35"><a href="#cb23-35" aria-hidden="true" tabindex="-1"></a>                <span class="fu">str_replace</span>(manual_reach_openvr_movement_steamvr_location_0, <span class="st">"3_avatartooluse 1"</span>, <span class="st">"3_avatartooluse"</span>),</span>
<span id="cb23-36"><a href="#cb23-36" aria-hidden="true" tabindex="-1"></a>                manual_reach_openvr_movement_steamvr_location_0</span>
<span id="cb23-37"><a href="#cb23-37" aria-hidden="true" tabindex="-1"></a>            )</span>
<span id="cb23-38"><a href="#cb23-38" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb23-39"><a href="#cb23-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-40"><a href="#cb23-40" aria-hidden="true" tabindex="-1"></a><span class="co"># Read files</span></span>
<span id="cb23-41"><a href="#cb23-41" aria-hidden="true" tabindex="-1"></a>steamvr_m_trials_nested <span class="ot">&lt;-</span> steamvr_m_files[</span>
<span id="cb23-42"><a href="#cb23-42" aria-hidden="true" tabindex="-1"></a>    ,</span>
<span id="cb23-43"><a href="#cb23-43" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">:=</span><span class="st">`</span>(<span class="at">manual_movement_steamvr =</span> <span class="fu">map</span>(</span>
<span id="cb23-44"><a href="#cb23-44" aria-hidden="true" tabindex="-1"></a>        <span class="fu">file.path</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data"</span>, manual_reach_openvr_movement_steamvr_location_0)),</span>
<span id="cb23-45"><a href="#cb23-45" aria-hidden="true" tabindex="-1"></a>        fread</span>
<span id="cb23-46"><a href="#cb23-46" aria-hidden="true" tabindex="-1"></a>    ))</span>
<span id="cb23-47"><a href="#cb23-47" aria-hidden="true" tabindex="-1"></a>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in `[.data.table`(steamvr_m_files, , `:=`(manual_movement_steamvr =
map(file.path(here::here("data", : Invalid .internal.selfref detected and fixed
by taking a (shallow) copy of the data.table so that := can add this new column
by reference. At an earlier point, this data.table has been copied by R (or was
created manually using structure() or similar). Avoid names&lt;- and attr&lt;- which
in R currently (and oddly) may copy the whole data.table. Use set* syntax
instead to avoid copying: ?set, ?setnames and ?setattr. If this message doesn't
help, please report your use case to the data.table issue tracker so the root
cause can be fixed or this message improved.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Unnest list columns</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>steamvr_m_trials_unnested <span class="ot">&lt;-</span> <span class="fu">dt_unnest</span>(</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>    steamvr_m_trials_nested,</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>    manual_movement_steamvr</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Unnest list columns</span></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>steamvr_trials_unnested <span class="ot">&lt;-</span> steamvr_m_trials_unnested</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="position-filter" class="level1">
<h1>Position Filter</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Manually impute a time_ms column that increments in steps of 5.</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>steamvr_prefilter <span class="ot">&lt;-</span> steamvr_trials_unnested[,</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">:=</span><span class="st">`</span>(</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">time =</span> <span class="fu">if_else</span>(block_num <span class="sc">&lt;</span> <span class="dv">3</span>, <span class="st">"pre"</span>, <span class="st">"post"</span>),</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">time_second =</span> <span class="fu">signif</span>(time_ms <span class="sc">/</span> <span class="dv">1000</span>, <span class="dv">6</span>),</span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">time_ms =</span> (<span class="dv">0</span><span class="sc">:</span>(.N <span class="sc">-</span> <span class="dv">1</span>)) <span class="sc">*</span> <span class="dv">5</span></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>  by <span class="ot">=</span> <span class="fu">c</span>(</span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">"ppid"</span>,</span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">"block_num"</span>,</span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">"trial_num_in_block"</span>,</span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a>    <span class="st">"tracker"</span></span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb26-14"><a href="#cb26-14" aria-hidden="true" tabindex="-1"></a>][time_ms <span class="sc">&gt;</span> <span class="dv">25</span> <span class="sc">&amp;</span> tracker <span class="sc">==</span> <span class="st">"right_hand"</span>]</span>
<span id="cb26-15"><a href="#cb26-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-16"><a href="#cb26-16" aria-hidden="true" tabindex="-1"></a>leadcols <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"pos_x_lead"</span>, <span class="st">"pos_y_lead"</span>, <span class="st">"pos_z_lead"</span>, <span class="st">"time_lead"</span>)</span>
<span id="cb26-17"><a href="#cb26-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-18"><a href="#cb26-18" aria-hidden="true" tabindex="-1"></a>bytrial <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb26-19"><a href="#cb26-19" aria-hidden="true" tabindex="-1"></a>  <span class="st">"ppid"</span>,</span>
<span id="cb26-20"><a href="#cb26-20" aria-hidden="true" tabindex="-1"></a>  <span class="st">"block_num"</span>,</span>
<span id="cb26-21"><a href="#cb26-21" aria-hidden="true" tabindex="-1"></a>  <span class="st">"trial_num_in_block"</span>,</span>
<span id="cb26-22"><a href="#cb26-22" aria-hidden="true" tabindex="-1"></a>  <span class="st">"time"</span>,</span>
<span id="cb26-23"><a href="#cb26-23" aria-hidden="true" tabindex="-1"></a>  <span class="st">"phase"</span></span>
<span id="cb26-24"><a href="#cb26-24" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb26-25"><a href="#cb26-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-26"><a href="#cb26-26" aria-hidden="true" tabindex="-1"></a>buffercols <span class="ot">&lt;-</span> <span class="fu">colnames</span>(steamvr_prefilter)</span>
<span id="cb26-27"><a href="#cb26-27" aria-hidden="true" tabindex="-1"></a>buffer_samples <span class="ot">&lt;-</span> <span class="dv">25</span></span>
<span id="cb26-28"><a href="#cb26-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-29"><a href="#cb26-29" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a buffer to reduce the distortion caused by the filtering process</span></span>
<span id="cb26-30"><a href="#cb26-30" aria-hidden="true" tabindex="-1"></a><span class="co"># Mostly relevant for the first few participants,</span></span>
<span id="cb26-31"><a href="#cb26-31" aria-hidden="true" tabindex="-1"></a><span class="co"># others have much more of a buffer built in to the recording.</span></span>
<span id="cb26-32"><a href="#cb26-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-33"><a href="#cb26-33" aria-hidden="true" tabindex="-1"></a>buffer <span class="ot">&lt;-</span> steamvr_prefilter[,</span>
<span id="cb26-34"><a href="#cb26-34" aria-hidden="true" tabindex="-1"></a>  .(</span>
<span id="cb26-35"><a href="#cb26-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">pos_x =</span> <span class="fu">c</span>(</span>
<span id="cb26-36"><a href="#cb26-36" aria-hidden="true" tabindex="-1"></a>      <span class="fu">seq</span>(</span>
<span id="cb26-37"><a href="#cb26-37" aria-hidden="true" tabindex="-1"></a>        <span class="fu">first</span>(pos_x),</span>
<span id="cb26-38"><a href="#cb26-38" aria-hidden="true" tabindex="-1"></a>        <span class="fu">nth</span>(pos_x, buffer_samples <span class="sc">-</span> <span class="dv">1</span>),</span>
<span id="cb26-39"><a href="#cb26-39" aria-hidden="true" tabindex="-1"></a>        <span class="at">length.out =</span> buffer_samples</span>
<span id="cb26-40"><a href="#cb26-40" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb26-41"><a href="#cb26-41" aria-hidden="true" tabindex="-1"></a>      <span class="fu">seq</span>(</span>
<span id="cb26-42"><a href="#cb26-42" aria-hidden="true" tabindex="-1"></a>        <span class="fu">nth</span>(pos_x, buffer_samples <span class="sc">-</span> <span class="dv">1</span>),</span>
<span id="cb26-43"><a href="#cb26-43" aria-hidden="true" tabindex="-1"></a>        <span class="fu">first</span>(pos_x),</span>
<span id="cb26-44"><a href="#cb26-44" aria-hidden="true" tabindex="-1"></a>        <span class="at">length.out =</span> buffer_samples</span>
<span id="cb26-45"><a href="#cb26-45" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb26-46"><a href="#cb26-46" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb26-47"><a href="#cb26-47" aria-hidden="true" tabindex="-1"></a>    <span class="at">pos_y =</span> <span class="fu">c</span>(</span>
<span id="cb26-48"><a href="#cb26-48" aria-hidden="true" tabindex="-1"></a>      <span class="fu">seq</span>(</span>
<span id="cb26-49"><a href="#cb26-49" aria-hidden="true" tabindex="-1"></a>        <span class="fu">first</span>(pos_y),</span>
<span id="cb26-50"><a href="#cb26-50" aria-hidden="true" tabindex="-1"></a>        <span class="fu">nth</span>(pos_y, buffer_samples <span class="sc">-</span> <span class="dv">1</span>),</span>
<span id="cb26-51"><a href="#cb26-51" aria-hidden="true" tabindex="-1"></a>        <span class="at">length.out =</span> buffer_samples</span>
<span id="cb26-52"><a href="#cb26-52" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb26-53"><a href="#cb26-53" aria-hidden="true" tabindex="-1"></a>      <span class="fu">seq</span>(</span>
<span id="cb26-54"><a href="#cb26-54" aria-hidden="true" tabindex="-1"></a>        <span class="fu">nth</span>(pos_y, buffer_samples <span class="sc">-</span> <span class="dv">1</span>),</span>
<span id="cb26-55"><a href="#cb26-55" aria-hidden="true" tabindex="-1"></a>        <span class="fu">first</span>(pos_y),</span>
<span id="cb26-56"><a href="#cb26-56" aria-hidden="true" tabindex="-1"></a>        <span class="at">length.out =</span> buffer_samples</span>
<span id="cb26-57"><a href="#cb26-57" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb26-58"><a href="#cb26-58" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb26-59"><a href="#cb26-59" aria-hidden="true" tabindex="-1"></a>    <span class="at">pos_z =</span> <span class="fu">c</span>(</span>
<span id="cb26-60"><a href="#cb26-60" aria-hidden="true" tabindex="-1"></a>      <span class="fu">seq</span>(</span>
<span id="cb26-61"><a href="#cb26-61" aria-hidden="true" tabindex="-1"></a>        <span class="fu">first</span>(pos_z),</span>
<span id="cb26-62"><a href="#cb26-62" aria-hidden="true" tabindex="-1"></a>        <span class="fu">nth</span>(pos_z, buffer_samples),</span>
<span id="cb26-63"><a href="#cb26-63" aria-hidden="true" tabindex="-1"></a>        <span class="at">length.out =</span> buffer_samples</span>
<span id="cb26-64"><a href="#cb26-64" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb26-65"><a href="#cb26-65" aria-hidden="true" tabindex="-1"></a>      <span class="fu">seq</span>(</span>
<span id="cb26-66"><a href="#cb26-66" aria-hidden="true" tabindex="-1"></a>        <span class="fu">nth</span>(pos_z, buffer_samples <span class="sc">-</span> <span class="dv">1</span>),</span>
<span id="cb26-67"><a href="#cb26-67" aria-hidden="true" tabindex="-1"></a>        <span class="fu">first</span>(pos_z),</span>
<span id="cb26-68"><a href="#cb26-68" aria-hidden="true" tabindex="-1"></a>        <span class="at">length.out =</span> buffer_samples</span>
<span id="cb26-69"><a href="#cb26-69" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb26-70"><a href="#cb26-70" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb26-71"><a href="#cb26-71" aria-hidden="true" tabindex="-1"></a>      <span class="at">velocity_x =</span> <span class="fu">c</span>(</span>
<span id="cb26-72"><a href="#cb26-72" aria-hidden="true" tabindex="-1"></a>      <span class="fu">seq</span>(</span>
<span id="cb26-73"><a href="#cb26-73" aria-hidden="true" tabindex="-1"></a>        <span class="fu">first</span>(velocity_x),</span>
<span id="cb26-74"><a href="#cb26-74" aria-hidden="true" tabindex="-1"></a>        <span class="fu">nth</span>(velocity_x, buffer_samples <span class="sc">-</span> <span class="dv">1</span>),</span>
<span id="cb26-75"><a href="#cb26-75" aria-hidden="true" tabindex="-1"></a>        <span class="at">length.out =</span> buffer_samples</span>
<span id="cb26-76"><a href="#cb26-76" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb26-77"><a href="#cb26-77" aria-hidden="true" tabindex="-1"></a>      <span class="fu">seq</span>(</span>
<span id="cb26-78"><a href="#cb26-78" aria-hidden="true" tabindex="-1"></a>        <span class="fu">nth</span>(velocity_x, buffer_samples <span class="sc">-</span> <span class="dv">1</span>),</span>
<span id="cb26-79"><a href="#cb26-79" aria-hidden="true" tabindex="-1"></a>        <span class="fu">first</span>(velocity_x),</span>
<span id="cb26-80"><a href="#cb26-80" aria-hidden="true" tabindex="-1"></a>        <span class="at">length.out =</span> buffer_samples</span>
<span id="cb26-81"><a href="#cb26-81" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb26-82"><a href="#cb26-82" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb26-83"><a href="#cb26-83" aria-hidden="true" tabindex="-1"></a>      <span class="at">velocity_y =</span> <span class="fu">c</span>(</span>
<span id="cb26-84"><a href="#cb26-84" aria-hidden="true" tabindex="-1"></a>      <span class="fu">seq</span>(</span>
<span id="cb26-85"><a href="#cb26-85" aria-hidden="true" tabindex="-1"></a>        <span class="fu">first</span>(velocity_y),</span>
<span id="cb26-86"><a href="#cb26-86" aria-hidden="true" tabindex="-1"></a>        <span class="fu">nth</span>(velocity_y, buffer_samples <span class="sc">-</span> <span class="dv">1</span>),</span>
<span id="cb26-87"><a href="#cb26-87" aria-hidden="true" tabindex="-1"></a>        <span class="at">length.out =</span> buffer_samples</span>
<span id="cb26-88"><a href="#cb26-88" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb26-89"><a href="#cb26-89" aria-hidden="true" tabindex="-1"></a>      <span class="fu">seq</span>(</span>
<span id="cb26-90"><a href="#cb26-90" aria-hidden="true" tabindex="-1"></a>        <span class="fu">nth</span>(velocity_y, buffer_samples <span class="sc">-</span> <span class="dv">1</span>),</span>
<span id="cb26-91"><a href="#cb26-91" aria-hidden="true" tabindex="-1"></a>        <span class="fu">first</span>(velocity_y),</span>
<span id="cb26-92"><a href="#cb26-92" aria-hidden="true" tabindex="-1"></a>        <span class="at">length.out =</span> buffer_samples</span>
<span id="cb26-93"><a href="#cb26-93" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb26-94"><a href="#cb26-94" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb26-95"><a href="#cb26-95" aria-hidden="true" tabindex="-1"></a>      <span class="at">velocity_z =</span> <span class="fu">c</span>(</span>
<span id="cb26-96"><a href="#cb26-96" aria-hidden="true" tabindex="-1"></a>      <span class="fu">seq</span>(</span>
<span id="cb26-97"><a href="#cb26-97" aria-hidden="true" tabindex="-1"></a>        <span class="fu">first</span>(velocity_z),</span>
<span id="cb26-98"><a href="#cb26-98" aria-hidden="true" tabindex="-1"></a>        <span class="fu">nth</span>(velocity_z, buffer_samples <span class="sc">-</span> <span class="dv">1</span>),</span>
<span id="cb26-99"><a href="#cb26-99" aria-hidden="true" tabindex="-1"></a>        <span class="at">length.out =</span> buffer_samples</span>
<span id="cb26-100"><a href="#cb26-100" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb26-101"><a href="#cb26-101" aria-hidden="true" tabindex="-1"></a>      <span class="fu">seq</span>(</span>
<span id="cb26-102"><a href="#cb26-102" aria-hidden="true" tabindex="-1"></a>        <span class="fu">nth</span>(velocity_z, buffer_samples <span class="sc">-</span> <span class="dv">1</span>),</span>
<span id="cb26-103"><a href="#cb26-103" aria-hidden="true" tabindex="-1"></a>        <span class="fu">first</span>(velocity_z),</span>
<span id="cb26-104"><a href="#cb26-104" aria-hidden="true" tabindex="-1"></a>        <span class="at">length.out =</span> buffer_samples</span>
<span id="cb26-105"><a href="#cb26-105" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb26-106"><a href="#cb26-106" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb26-107"><a href="#cb26-107" aria-hidden="true" tabindex="-1"></a>    <span class="at">time_ms =</span> <span class="fu">seq</span>(</span>
<span id="cb26-108"><a href="#cb26-108" aria-hidden="true" tabindex="-1"></a>      <span class="dv">25</span>,</span>
<span id="cb26-109"><a href="#cb26-109" aria-hidden="true" tabindex="-1"></a>      (<span class="sc">-</span><span class="dv">5</span><span class="sc">*</span>buffer_samples<span class="sc">*</span><span class="dv">2</span>)<span class="sc">+</span><span class="dv">25</span>,</span>
<span id="cb26-110"><a href="#cb26-110" aria-hidden="true" tabindex="-1"></a>      <span class="at">length.out =</span> (buffer_samples<span class="sc">*</span><span class="dv">2</span>)</span>
<span id="cb26-111"><a href="#cb26-111" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb26-112"><a href="#cb26-112" aria-hidden="true" tabindex="-1"></a>    <span class="at">phase =</span> <span class="st">"buffer"</span></span>
<span id="cb26-113"><a href="#cb26-113" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb26-114"><a href="#cb26-114" aria-hidden="true" tabindex="-1"></a>  by <span class="ot">=</span> <span class="fu">c</span>(</span>
<span id="cb26-115"><a href="#cb26-115" aria-hidden="true" tabindex="-1"></a>    <span class="st">"ppid"</span>,</span>
<span id="cb26-116"><a href="#cb26-116" aria-hidden="true" tabindex="-1"></a>    <span class="st">"block_num"</span>,</span>
<span id="cb26-117"><a href="#cb26-117" aria-hidden="true" tabindex="-1"></a>    <span class="st">"trial_num_in_block"</span>,</span>
<span id="cb26-118"><a href="#cb26-118" aria-hidden="true" tabindex="-1"></a>      <span class="st">"time"</span></span>
<span id="cb26-119"><a href="#cb26-119" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb26-120"><a href="#cb26-120" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb26-121"><a href="#cb26-121" aria-hidden="true" tabindex="-1"></a>steamvr_prefilter_buffered <span class="ot">&lt;-</span> <span class="fu">merge.data.table</span>(</span>
<span id="cb26-122"><a href="#cb26-122" aria-hidden="true" tabindex="-1"></a>  steamvr_prefilter,</span>
<span id="cb26-123"><a href="#cb26-123" aria-hidden="true" tabindex="-1"></a>  buffer,</span>
<span id="cb26-124"><a href="#cb26-124" aria-hidden="true" tabindex="-1"></a>  <span class="at">all =</span> <span class="cn">TRUE</span></span>
<span id="cb26-125"><a href="#cb26-125" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">!</span>manual_reach_openvr_movement_steamvr_location_0)</span>
<span id="cb26-126"><a href="#cb26-126" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-127"><a href="#cb26-127" aria-hidden="true" tabindex="-1"></a><span class="co"># Fix ordering</span></span>
<span id="cb26-128"><a href="#cb26-128" aria-hidden="true" tabindex="-1"></a>steamvr_prefilter_buffered <span class="ot">&lt;-</span> steamvr_prefilter_buffered[</span>
<span id="cb26-129"><a href="#cb26-129" aria-hidden="true" tabindex="-1"></a>    <span class="fu">order</span>(</span>
<span id="cb26-130"><a href="#cb26-130" aria-hidden="true" tabindex="-1"></a>        ppid,</span>
<span id="cb26-131"><a href="#cb26-131" aria-hidden="true" tabindex="-1"></a>        block_num,</span>
<span id="cb26-132"><a href="#cb26-132" aria-hidden="true" tabindex="-1"></a>        trial_num_in_block,</span>
<span id="cb26-133"><a href="#cb26-133" aria-hidden="true" tabindex="-1"></a>        tracker,</span>
<span id="cb26-134"><a href="#cb26-134" aria-hidden="true" tabindex="-1"></a>        time_ms</span>
<span id="cb26-135"><a href="#cb26-135" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb26-136"><a href="#cb26-136" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb26-137"><a href="#cb26-137" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-138"><a href="#cb26-138" aria-hidden="true" tabindex="-1"></a><span class="co"># Apply Butterworth filter to position values</span></span>
<span id="cb26-139"><a href="#cb26-139" aria-hidden="true" tabindex="-1"></a>steamvr_position_filtered <span class="ot">&lt;-</span> steamvr_prefilter_buffered[<span class="sc">!</span>(ppid <span class="sc">%like%</span> <span class="st">"pilot"</span>), ] <span class="sc">%&gt;%</span></span>
<span id="cb26-140"><a href="#cb26-140" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">group_by</span>(</span>
<span id="cb26-141"><a href="#cb26-141" aria-hidden="true" tabindex="-1"></a>        ppid,</span>
<span id="cb26-142"><a href="#cb26-142" aria-hidden="true" tabindex="-1"></a>        block_num,</span>
<span id="cb26-143"><a href="#cb26-143" aria-hidden="true" tabindex="-1"></a>        trial_num_in_block,</span>
<span id="cb26-144"><a href="#cb26-144" aria-hidden="true" tabindex="-1"></a>        time,</span>
<span id="cb26-145"><a href="#cb26-145" aria-hidden="true" tabindex="-1"></a>        tracker</span>
<span id="cb26-146"><a href="#cb26-146" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb26-147"><a href="#cb26-147" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb26-148"><a href="#cb26-148" aria-hidden="true" tabindex="-1"></a>        dplyr<span class="sc">::</span><span class="fu">across</span>(</span>
<span id="cb26-149"><a href="#cb26-149" aria-hidden="true" tabindex="-1"></a>          <span class="fu">c</span>(pos_x<span class="sc">:</span>pos_z, velocity_x<span class="sc">:</span>velocity_z) ,</span>
<span id="cb26-150"><a href="#cb26-150" aria-hidden="true" tabindex="-1"></a>          <span class="sc">~</span> <span class="fu">filtfilt</span>(b_10hz, .x), </span>
<span id="cb26-151"><a href="#cb26-151" aria-hidden="true" tabindex="-1"></a>          <span class="at">.names =</span> <span class="st">"{.col}_10hz"</span>)</span>
<span id="cb26-152"><a href="#cb26-152" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb26-153"><a href="#cb26-153" aria-hidden="true" tabindex="-1"></a>    <span class="fu">as.data.table</span>()</span>
<span id="cb26-154"><a href="#cb26-154" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-155"><a href="#cb26-155" aria-hidden="true" tabindex="-1"></a><span class="co"># Pull column names from the position variables</span></span>
<span id="cb26-156"><a href="#cb26-156" aria-hidden="true" tabindex="-1"></a>filteredcolnames <span class="ot">&lt;-</span> <span class="fu">colnames</span>(</span>
<span id="cb26-157"><a href="#cb26-157" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(</span>
<span id="cb26-158"><a href="#cb26-158" aria-hidden="true" tabindex="-1"></a>        steamvr_position_filtered,</span>
<span id="cb26-159"><a href="#cb26-159" aria-hidden="true" tabindex="-1"></a>        <span class="fu">ends_with</span>(</span>
<span id="cb26-160"><a href="#cb26-160" aria-hidden="true" tabindex="-1"></a>            <span class="fu">c</span>(<span class="st">"x"</span>, <span class="st">"y"</span>, <span class="st">"z"</span>)</span>
<span id="cb26-161"><a href="#cb26-161" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb26-162"><a href="#cb26-162" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb26-163"><a href="#cb26-163" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb26-164"><a href="#cb26-164" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-165"><a href="#cb26-165" aria-hidden="true" tabindex="-1"></a>cutoffs <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb26-166"><a href="#cb26-166" aria-hidden="true" tabindex="-1"></a>  <span class="st">"raw"</span>,</span>
<span id="cb26-167"><a href="#cb26-167" aria-hidden="true" tabindex="-1"></a>  <span class="st">"10hz"</span></span>
<span id="cb26-168"><a href="#cb26-168" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb26-169"><a href="#cb26-169" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-170"><a href="#cb26-170" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter out buffer and melt the data into long format.</span></span>
<span id="cb26-171"><a href="#cb26-171" aria-hidden="true" tabindex="-1"></a>steamvr_position_filtered_long <span class="ot">&lt;-</span> steamvr_position_filtered <span class="sc">%&gt;%</span></span>
<span id="cb26-172"><a href="#cb26-172" aria-hidden="true" tabindex="-1"></a>    data.table<span class="sc">::</span><span class="fu">melt</span>(</span>
<span id="cb26-173"><a href="#cb26-173" aria-hidden="true" tabindex="-1"></a>        <span class="fu">c</span>(</span>
<span id="cb26-174"><a href="#cb26-174" aria-hidden="true" tabindex="-1"></a>            <span class="st">"ppid"</span>,</span>
<span id="cb26-175"><a href="#cb26-175" aria-hidden="true" tabindex="-1"></a>            <span class="st">"block_num"</span>,</span>
<span id="cb26-176"><a href="#cb26-176" aria-hidden="true" tabindex="-1"></a>            <span class="st">"trial_num_in_block"</span>,</span>
<span id="cb26-177"><a href="#cb26-177" aria-hidden="true" tabindex="-1"></a>            <span class="st">"time_ms"</span>,</span>
<span id="cb26-178"><a href="#cb26-178" aria-hidden="true" tabindex="-1"></a>            <span class="st">"time_second"</span>,</span>
<span id="cb26-179"><a href="#cb26-179" aria-hidden="true" tabindex="-1"></a>            <span class="st">"time"</span>,</span>
<span id="cb26-180"><a href="#cb26-180" aria-hidden="true" tabindex="-1"></a>            <span class="st">"phase"</span></span>
<span id="cb26-181"><a href="#cb26-181" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb26-182"><a href="#cb26-182" aria-hidden="true" tabindex="-1"></a>        <span class="at">measure.vars =</span> <span class="fu">patterns</span>(<span class="st">"^pos_x"</span>, <span class="st">"^pos_y"</span>, <span class="st">"^pos_z"</span>, <span class="st">"^velocity_x"</span>, <span class="st">"^velocity_y"</span>, <span class="st">"^velocity_z"</span>),</span>
<span id="cb26-183"><a href="#cb26-183" aria-hidden="true" tabindex="-1"></a>        <span class="at">variable.name =</span> <span class="st">"filter"</span>,</span>
<span id="cb26-184"><a href="#cb26-184" aria-hidden="true" tabindex="-1"></a>        <span class="at">value.name =</span> <span class="fu">c</span>(<span class="st">"pos_x"</span>, <span class="st">"pos_y"</span>, <span class="st">"pos_z"</span>, <span class="st">"ovr_vel_x"</span>, <span class="st">"ovr_vel_y"</span>, <span class="st">"ovr_vel_z"</span>)</span>
<span id="cb26-185"><a href="#cb26-185" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb26-186"><a href="#cb26-186" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-187"><a href="#cb26-187" aria-hidden="true" tabindex="-1"></a><span class="co"># Establish the different filters as the cutoffs.</span></span>
<span id="cb26-188"><a href="#cb26-188" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(steamvr_position_filtered_long<span class="sc">$</span>filter) <span class="ot">&lt;-</span> cutoffs</span>
<span id="cb26-189"><a href="#cb26-189" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-190"><a href="#cb26-190" aria-hidden="true" tabindex="-1"></a>bytrial_filter <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb26-191"><a href="#cb26-191" aria-hidden="true" tabindex="-1"></a>  <span class="st">"ppid"</span>,</span>
<span id="cb26-192"><a href="#cb26-192" aria-hidden="true" tabindex="-1"></a>  <span class="st">"block_num"</span>,</span>
<span id="cb26-193"><a href="#cb26-193" aria-hidden="true" tabindex="-1"></a>  <span class="st">"trial_num_in_block"</span>,</span>
<span id="cb26-194"><a href="#cb26-194" aria-hidden="true" tabindex="-1"></a>  <span class="st">"time"</span>,</span>
<span id="cb26-195"><a href="#cb26-195" aria-hidden="true" tabindex="-1"></a>  <span class="st">"filter"</span></span>
<span id="cb26-196"><a href="#cb26-196" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb26-197"><a href="#cb26-197" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-198"><a href="#cb26-198" aria-hidden="true" tabindex="-1"></a><span class="fu">fwrite</span>(</span>
<span id="cb26-199"><a href="#cb26-199" aria-hidden="true" tabindex="-1"></a>    steamvr_position_filtered_long,</span>
<span id="cb26-200"><a href="#cb26-200" aria-hidden="true" tabindex="-1"></a>    here<span class="sc">::</span><span class="fu">here</span>(</span>
<span id="cb26-201"><a href="#cb26-201" aria-hidden="true" tabindex="-1"></a>        <span class="st">"data"</span>,</span>
<span id="cb26-202"><a href="#cb26-202" aria-hidden="true" tabindex="-1"></a>        <span class="st">"study_three"</span>,</span>
<span id="cb26-203"><a href="#cb26-203" aria-hidden="true" tabindex="-1"></a>        <span class="st">"steamvr_position_filtered_long.csv"</span></span>
<span id="cb26-204"><a href="#cb26-204" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb26-205"><a href="#cb26-205" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="velocity-calculation" class="level1">
<h1>Velocity calculation</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>steamvr_velocity <span class="ot">&lt;-</span> steamvr_position_filtered_long[,</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># create lead columns for position and time</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"pos_x_lead"</span>,</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">"pos_y_lead"</span>,</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">"pos_z_lead"</span>,</span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">"ovr_vel_x_lead"</span>,</span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">"ovr_vel_y_lead"</span>,</span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">"ovr_vel_z_lead"</span>,</span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">"time_ms_lead"</span>,</span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">"time_s_lead"</span></span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">:</span><span class="er">=</span> <span class="fu">lapply</span>(</span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a>      .SD,</span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a>      data.table<span class="sc">::</span>shift,</span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a>      <span class="dv">1</span>,</span>
<span id="cb27-16"><a href="#cb27-16" aria-hidden="true" tabindex="-1"></a>      <span class="at">type =</span> <span class="st">"lead"</span></span>
<span id="cb27-17"><a href="#cb27-17" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb27-18"><a href="#cb27-18" aria-hidden="true" tabindex="-1"></a>  .SDcols <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"pos_x"</span>, <span class="st">"pos_y"</span>, <span class="st">"pos_z"</span>, <span class="st">"ovr_vel_x"</span>, <span class="st">"ovr_vel_y"</span>, <span class="st">"ovr_vel_z"</span>, <span class="st">"time_ms"</span>, <span class="st">"time_second"</span>),</span>
<span id="cb27-19"><a href="#cb27-19" aria-hidden="true" tabindex="-1"></a>  by <span class="ot">=</span> bytrial_filter</span>
<span id="cb27-20"><a href="#cb27-20" aria-hidden="true" tabindex="-1"></a>][,</span>
<span id="cb27-21"><a href="#cb27-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-22"><a href="#cb27-22" aria-hidden="true" tabindex="-1"></a>  <span class="co"># create lag columns for position and time</span></span>
<span id="cb27-23"><a href="#cb27-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(</span>
<span id="cb27-24"><a href="#cb27-24" aria-hidden="true" tabindex="-1"></a>    <span class="st">"pos_x_lag"</span>,</span>
<span id="cb27-25"><a href="#cb27-25" aria-hidden="true" tabindex="-1"></a>    <span class="st">"pos_y_lag"</span>,</span>
<span id="cb27-26"><a href="#cb27-26" aria-hidden="true" tabindex="-1"></a>    <span class="st">"pos_z_lag"</span>,</span>
<span id="cb27-27"><a href="#cb27-27" aria-hidden="true" tabindex="-1"></a>    <span class="st">"ovr_vel_x_lag"</span>,</span>
<span id="cb27-28"><a href="#cb27-28" aria-hidden="true" tabindex="-1"></a>    <span class="st">"ovr_vel_y_lag"</span>,</span>
<span id="cb27-29"><a href="#cb27-29" aria-hidden="true" tabindex="-1"></a>    <span class="st">"ovr_vel_z_lag"</span>,</span>
<span id="cb27-30"><a href="#cb27-30" aria-hidden="true" tabindex="-1"></a>    <span class="st">"time_ms_lag"</span>,</span>
<span id="cb27-31"><a href="#cb27-31" aria-hidden="true" tabindex="-1"></a>    <span class="st">"time_s_lag"</span></span>
<span id="cb27-32"><a href="#cb27-32" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">:</span><span class="er">=</span> <span class="fu">lapply</span>(.SD, data.table<span class="sc">::</span>shift, <span class="dv">1</span>, <span class="at">type =</span> <span class="st">"lag"</span>),</span>
<span id="cb27-33"><a href="#cb27-33" aria-hidden="true" tabindex="-1"></a>  .SDcols <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"pos_x"</span>, <span class="st">"pos_y"</span>, <span class="st">"pos_z"</span>, <span class="st">"ovr_vel_x"</span>, <span class="st">"ovr_vel_y"</span>, <span class="st">"ovr_vel_z"</span>, <span class="st">"time_ms"</span>, <span class="st">"time_second"</span>),</span>
<span id="cb27-34"><a href="#cb27-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-35"><a href="#cb27-35" aria-hidden="true" tabindex="-1"></a>  by <span class="ot">=</span> bytrial_filter</span>
<span id="cb27-36"><a href="#cb27-36" aria-hidden="true" tabindex="-1"></a>][,</span>
<span id="cb27-37"><a href="#cb27-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-38"><a href="#cb27-38" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">:=</span><span class="st">`</span>(</span>
<span id="cb27-39"><a href="#cb27-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">xdiff =</span> (pos_x_lead <span class="sc">-</span> pos_x_lag),</span>
<span id="cb27-40"><a href="#cb27-40" aria-hidden="true" tabindex="-1"></a>    <span class="at">ydiff =</span> (pos_y_lead <span class="sc">-</span> pos_y_lag),</span>
<span id="cb27-41"><a href="#cb27-41" aria-hidden="true" tabindex="-1"></a>    <span class="at">zdiff =</span> (pos_z_lead <span class="sc">-</span> pos_z_lag),</span>
<span id="cb27-42"><a href="#cb27-42" aria-hidden="true" tabindex="-1"></a>    <span class="at">time_diff_ms =</span> (time_ms_lead <span class="sc">-</span> time_ms_lag),</span>
<span id="cb27-43"><a href="#cb27-43" aria-hidden="true" tabindex="-1"></a>    <span class="at">time_diff_s =</span> (time_s_lead <span class="sc">-</span> time_s_lag)</span>
<span id="cb27-44"><a href="#cb27-44" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb27-45"><a href="#cb27-45" aria-hidden="true" tabindex="-1"></a>  by <span class="ot">=</span> bytrial_filter</span>
<span id="cb27-46"><a href="#cb27-46" aria-hidden="true" tabindex="-1"></a>][,</span>
<span id="cb27-47"><a href="#cb27-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-48"><a href="#cb27-48" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate velocity in mm/s^2</span></span>
<span id="cb27-49"><a href="#cb27-49" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">:=</span><span class="st">`</span>(</span>
<span id="cb27-50"><a href="#cb27-50" aria-hidden="true" tabindex="-1"></a>    <span class="at">velocity =</span> <span class="fu">fifelse</span>(</span>
<span id="cb27-51"><a href="#cb27-51" aria-hidden="true" tabindex="-1"></a>      <span class="sc">!</span><span class="fu">is.na</span>(time_diff_s),</span>
<span id="cb27-52"><a href="#cb27-52" aria-hidden="true" tabindex="-1"></a>      (<span class="fu">sqrt</span>(xdiff<span class="sc">^</span><span class="dv">2</span> <span class="sc">+</span> ydiff<span class="sc">^</span><span class="dv">2</span> <span class="sc">+</span> zdiff<span class="sc">^</span><span class="dv">2</span>) <span class="sc">/</span> time_diff_s) <span class="sc">*</span> <span class="dv">1000</span>,</span>
<span id="cb27-53"><a href="#cb27-53" aria-hidden="true" tabindex="-1"></a>      (<span class="fu">sqrt</span>(xdiff<span class="sc">^</span><span class="dv">2</span> <span class="sc">+</span> ydiff<span class="sc">^</span><span class="dv">2</span> <span class="sc">+</span> zdiff<span class="sc">^</span><span class="dv">2</span>) <span class="sc">/</span> (time_diff_ms <span class="sc">/</span> <span class="dv">1000</span>)) <span class="sc">*</span> <span class="dv">1000</span></span>
<span id="cb27-54"><a href="#cb27-54" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb27-55"><a href="#cb27-55" aria-hidden="true" tabindex="-1"></a>    <span class="at">ovr_vel =</span> (<span class="fu">abs</span>(ovr_vel_x) <span class="sc">+</span> <span class="fu">abs</span>(ovr_vel_y) <span class="sc">+</span> <span class="fu">abs</span>(ovr_vel_z)) <span class="sc">*</span> <span class="dv">1000</span>,</span>
<span id="cb27-56"><a href="#cb27-56" aria-hidden="true" tabindex="-1"></a>    <span class="at">displacement =</span> <span class="fu">sqrt</span>(pos_x<span class="sc">^</span><span class="dv">2</span> <span class="sc">+</span> pos_y<span class="sc">^</span><span class="dv">2</span> <span class="sc">+</span> pos_z<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb27-57"><a href="#cb27-57" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb27-58"><a href="#cb27-58" aria-hidden="true" tabindex="-1"></a>  by <span class="ot">=</span> bytrial_filter</span>
<span id="cb27-59"><a href="#cb27-59" aria-hidden="true" tabindex="-1"></a>][,</span>
<span id="cb27-60"><a href="#cb27-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-61"><a href="#cb27-61" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create lead column for velocity</span></span>
<span id="cb27-62"><a href="#cb27-62" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">:=</span><span class="st">`</span>(</span>
<span id="cb27-63"><a href="#cb27-63" aria-hidden="true" tabindex="-1"></a>    <span class="at">velocity_lead =</span> data.table<span class="sc">::</span><span class="fu">shift</span>(velocity, <span class="dv">1</span>, <span class="at">type =</span> <span class="st">"lead"</span>),</span>
<span id="cb27-64"><a href="#cb27-64" aria-hidden="true" tabindex="-1"></a>    <span class="at">velocity_lag =</span> data.table<span class="sc">::</span><span class="fu">shift</span>(velocity, <span class="dv">1</span>, <span class="at">type =</span> <span class="st">"lag"</span>),</span>
<span id="cb27-65"><a href="#cb27-65" aria-hidden="true" tabindex="-1"></a>    <span class="at">ovr_vel_lead =</span> data.table<span class="sc">::</span><span class="fu">shift</span>(ovr_vel, <span class="dv">1</span>, <span class="at">type =</span> <span class="st">"lead"</span>),</span>
<span id="cb27-66"><a href="#cb27-66" aria-hidden="true" tabindex="-1"></a>    <span class="at">ovr_vel_lag =</span> data.table<span class="sc">::</span><span class="fu">shift</span>(ovr_vel, <span class="dv">1</span>, <span class="at">type =</span> <span class="st">"lag"</span>)</span>
<span id="cb27-67"><a href="#cb27-67" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb27-68"><a href="#cb27-68" aria-hidden="true" tabindex="-1"></a>  by <span class="ot">=</span> bytrial_filter</span>
<span id="cb27-69"><a href="#cb27-69" aria-hidden="true" tabindex="-1"></a>][,</span>
<span id="cb27-70"><a href="#cb27-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-71"><a href="#cb27-71" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Compute differences</span></span>
<span id="cb27-72"><a href="#cb27-72" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">:=</span><span class="st">`</span>(</span>
<span id="cb27-73"><a href="#cb27-73" aria-hidden="true" tabindex="-1"></a>    <span class="at">vel_diff =</span> (velocity_lead <span class="sc">-</span> velocity_lag),</span>
<span id="cb27-74"><a href="#cb27-74" aria-hidden="true" tabindex="-1"></a>    <span class="at">ovr_vel_diff =</span> (ovr_vel_lead <span class="sc">-</span> ovr_vel_lag)</span>
<span id="cb27-75"><a href="#cb27-75" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb27-76"><a href="#cb27-76" aria-hidden="true" tabindex="-1"></a>  by <span class="ot">=</span> bytrial_filter</span>
<span id="cb27-77"><a href="#cb27-77" aria-hidden="true" tabindex="-1"></a>][,</span>
<span id="cb27-78"><a href="#cb27-78" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-79"><a href="#cb27-79" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate acceleration</span></span>
<span id="cb27-80"><a href="#cb27-80" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">:=</span><span class="st">`</span>(<span class="at">accel =</span> <span class="fu">fifelse</span>(</span>
<span id="cb27-81"><a href="#cb27-81" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!</span><span class="fu">is.na</span>(time_diff_s),</span>
<span id="cb27-82"><a href="#cb27-82" aria-hidden="true" tabindex="-1"></a>    vel_diff <span class="sc">/</span> (time_diff_s),</span>
<span id="cb27-83"><a href="#cb27-83" aria-hidden="true" tabindex="-1"></a>    vel_diff <span class="sc">/</span> (time_diff_ms <span class="sc">/</span> <span class="dv">1000</span>)</span>
<span id="cb27-84"><a href="#cb27-84" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb27-85"><a href="#cb27-85" aria-hidden="true" tabindex="-1"></a>  <span class="at">ovr_acc =</span> <span class="fu">fifelse</span>(</span>
<span id="cb27-86"><a href="#cb27-86" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!</span><span class="fu">is.na</span>(time_diff_s),</span>
<span id="cb27-87"><a href="#cb27-87" aria-hidden="true" tabindex="-1"></a>    ovr_vel_diff <span class="sc">/</span> (time_diff_s),</span>
<span id="cb27-88"><a href="#cb27-88" aria-hidden="true" tabindex="-1"></a>    ovr_vel_diff <span class="sc">/</span> (time_diff_ms <span class="sc">/</span> <span class="dv">1000</span>)</span>
<span id="cb27-89"><a href="#cb27-89" aria-hidden="true" tabindex="-1"></a>  )),</span>
<span id="cb27-90"><a href="#cb27-90" aria-hidden="true" tabindex="-1"></a>  by <span class="ot">=</span> bytrial_filter</span>
<span id="cb27-91"><a href="#cb27-91" aria-hidden="true" tabindex="-1"></a>][,</span>
<span id="cb27-92"><a href="#cb27-92" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-93"><a href="#cb27-93" aria-hidden="true" tabindex="-1"></a>  time_ms_perphase <span class="sc">:</span><span class="er">=</span> (</span>
<span id="cb27-94"><a href="#cb27-94" aria-hidden="true" tabindex="-1"></a>    <span class="dv">0</span><span class="sc">:</span>(.N <span class="sc">-</span> <span class="dv">1</span>)</span>
<span id="cb27-95"><a href="#cb27-95" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">*</span> <span class="dv">5</span>,</span>
<span id="cb27-96"><a href="#cb27-96" aria-hidden="true" tabindex="-1"></a>  by <span class="ot">=</span> <span class="fu">c</span>(</span>
<span id="cb27-97"><a href="#cb27-97" aria-hidden="true" tabindex="-1"></a>    <span class="st">"ppid"</span>,</span>
<span id="cb27-98"><a href="#cb27-98" aria-hidden="true" tabindex="-1"></a>    <span class="st">"block_num"</span>,</span>
<span id="cb27-99"><a href="#cb27-99" aria-hidden="true" tabindex="-1"></a>    <span class="st">"trial_num_in_block"</span>,</span>
<span id="cb27-100"><a href="#cb27-100" aria-hidden="true" tabindex="-1"></a>    <span class="st">"time"</span>,</span>
<span id="cb27-101"><a href="#cb27-101" aria-hidden="true" tabindex="-1"></a>    <span class="st">"phase"</span>,</span>
<span id="cb27-102"><a href="#cb27-102" aria-hidden="true" tabindex="-1"></a>      <span class="st">"filter"</span></span>
<span id="cb27-103"><a href="#cb27-103" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb27-104"><a href="#cb27-104" aria-hidden="true" tabindex="-1"></a>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="kinematic-filtering" class="level1">
<h1>Kinematic filtering</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>steamvr_filt <span class="ot">&lt;-</span> steamvr_velocity[</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">order</span>(ppid, block_num, trial_num_in_block, filter, time_ms)</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>][<span class="sc">!</span><span class="fu">is.na</span>(velocity) <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.infinite</span>(velocity),</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Filter velocity w/ 10hz butterworth</span></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">:=</span><span class="st">`</span>(<span class="at">velocity_10hz =</span> <span class="fu">filtfilt</span>(b_10hz, velocity)),</span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>  by <span class="ot">=</span> <span class="fu">c</span>(</span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">"ppid"</span>,</span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">"block_num"</span>,</span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">"trial_num_in_block"</span>,</span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a>      <span class="st">"filter"</span></span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb28-13"><a href="#cb28-13" aria-hidden="true" tabindex="-1"></a>][<span class="sc">!</span><span class="fu">is.infinite</span>(velocity_10hz) <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(velocity_10hz),</span>
<span id="cb28-14"><a href="#cb28-14" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">:=</span><span class="st">`</span>(<span class="at">velocity_combined =</span> (velocity_10hz <span class="sc">+</span> ovr_vel)<span class="sc">/</span><span class="dv">2</span>),</span>
<span id="cb28-15"><a href="#cb28-15" aria-hidden="true" tabindex="-1"></a>][<span class="sc">!</span><span class="fu">is.infinite</span>(ovr_acc) <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(ovr_acc),</span>
<span id="cb28-16"><a href="#cb28-16" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">:=</span><span class="st">`</span>(<span class="at">ovr_acc_10hz =</span> <span class="fu">filtfilt</span>(b_10hz, ovr_acc)),</span>
<span id="cb28-17"><a href="#cb28-17" aria-hidden="true" tabindex="-1"></a>  by <span class="ot">=</span> <span class="fu">c</span>(</span>
<span id="cb28-18"><a href="#cb28-18" aria-hidden="true" tabindex="-1"></a>    <span class="st">"ppid"</span>,</span>
<span id="cb28-19"><a href="#cb28-19" aria-hidden="true" tabindex="-1"></a>    <span class="st">"block_num"</span>,</span>
<span id="cb28-20"><a href="#cb28-20" aria-hidden="true" tabindex="-1"></a>    <span class="st">"trial_num_in_block"</span>,</span>
<span id="cb28-21"><a href="#cb28-21" aria-hidden="true" tabindex="-1"></a>      <span class="st">"filter"</span></span>
<span id="cb28-22"><a href="#cb28-22" aria-hidden="true" tabindex="-1"></a>  )][,</span>
<span id="cb28-23"><a href="#cb28-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-24"><a href="#cb28-24" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create lead/lag columns for velocity</span></span>
<span id="cb28-25"><a href="#cb28-25" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">:=</span><span class="st">`</span>(</span>
<span id="cb28-26"><a href="#cb28-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">velocity_10hzlead =</span> data.table<span class="sc">::</span><span class="fu">shift</span>(velocity_10hz, <span class="dv">1</span>, <span class="at">type =</span> <span class="st">"lead"</span>),</span>
<span id="cb28-27"><a href="#cb28-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">velocity_10hzlag =</span> data.table<span class="sc">::</span><span class="fu">shift</span>(velocity_10hz, <span class="dv">1</span>, <span class="at">type =</span> <span class="st">"lag"</span>),</span>
<span id="cb28-28"><a href="#cb28-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">combined_vel_lead =</span> data.table<span class="sc">::</span><span class="fu">shift</span>(velocity_combined, <span class="dv">1</span>, <span class="at">type =</span> <span class="st">"lead"</span>),</span>
<span id="cb28-29"><a href="#cb28-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">combined_vel_lag =</span> data.table<span class="sc">::</span><span class="fu">shift</span>(velocity_combined, <span class="dv">1</span>, <span class="at">type =</span> <span class="st">"lag"</span>)</span>
<span id="cb28-30"><a href="#cb28-30" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb28-31"><a href="#cb28-31" aria-hidden="true" tabindex="-1"></a>  by <span class="ot">=</span> bytrial_filter</span>
<span id="cb28-32"><a href="#cb28-32" aria-hidden="true" tabindex="-1"></a>][,</span>
<span id="cb28-33"><a href="#cb28-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-34"><a href="#cb28-34" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Compute differences</span></span>
<span id="cb28-35"><a href="#cb28-35" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">:=</span><span class="st">`</span>(</span>
<span id="cb28-36"><a href="#cb28-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">vel_10hzdiff =</span> (velocity_10hzlead <span class="sc">-</span> velocity_10hzlag),</span>
<span id="cb28-37"><a href="#cb28-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">combined_vel_diff =</span> (combined_vel_lead <span class="sc">-</span> combined_vel_lag)</span>
<span id="cb28-38"><a href="#cb28-38" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb28-39"><a href="#cb28-39" aria-hidden="true" tabindex="-1"></a>  by <span class="ot">=</span> bytrial_filter</span>
<span id="cb28-40"><a href="#cb28-40" aria-hidden="true" tabindex="-1"></a>][,</span>
<span id="cb28-41"><a href="#cb28-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-42"><a href="#cb28-42" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Compute acceleration</span></span>
<span id="cb28-43"><a href="#cb28-43" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">:=</span><span class="st">`</span>(</span>
<span id="cb28-44"><a href="#cb28-44" aria-hidden="true" tabindex="-1"></a>    <span class="at">accel_filtvel =</span> <span class="fu">fifelse</span>(</span>
<span id="cb28-45"><a href="#cb28-45" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!</span><span class="fu">is.na</span>(time_diff_s),</span>
<span id="cb28-46"><a href="#cb28-46" aria-hidden="true" tabindex="-1"></a>    vel_10hzdiff <span class="sc">/</span> (time_diff_s),</span>
<span id="cb28-47"><a href="#cb28-47" aria-hidden="true" tabindex="-1"></a>    vel_10hzdiff <span class="sc">/</span> (time_diff_ms <span class="sc">/</span> <span class="dv">1000</span>)</span>
<span id="cb28-48"><a href="#cb28-48" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb28-49"><a href="#cb28-49" aria-hidden="true" tabindex="-1"></a>  <span class="at">combined_acc =</span> <span class="fu">fifelse</span>(</span>
<span id="cb28-50"><a href="#cb28-50" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!</span><span class="fu">is.na</span>(time_diff_s),</span>
<span id="cb28-51"><a href="#cb28-51" aria-hidden="true" tabindex="-1"></a>    combined_vel_diff <span class="sc">/</span> (time_diff_s),</span>
<span id="cb28-52"><a href="#cb28-52" aria-hidden="true" tabindex="-1"></a>    combined_vel_diff <span class="sc">/</span> (time_diff_ms <span class="sc">/</span> <span class="dv">1000</span>)</span>
<span id="cb28-53"><a href="#cb28-53" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb28-54"><a href="#cb28-54" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb28-55"><a href="#cb28-55" aria-hidden="true" tabindex="-1"></a>  by <span class="ot">=</span> bytrial_filter</span>
<span id="cb28-56"><a href="#cb28-56" aria-hidden="true" tabindex="-1"></a>][</span>
<span id="cb28-57"><a href="#cb28-57" aria-hidden="true" tabindex="-1"></a>  <span class="fu">order</span>(ppid, block_num, trial_num_in_block, filter, time_ms)</span>
<span id="cb28-58"><a href="#cb28-58" aria-hidden="true" tabindex="-1"></a>][</span>
<span id="cb28-59"><a href="#cb28-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-60"><a href="#cb28-60" aria-hidden="true" tabindex="-1"></a>  <span class="sc">!</span><span class="fu">is.na</span>(accel) <span class="sc">&amp;</span></span>
<span id="cb28-61"><a href="#cb28-61" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!</span><span class="fu">is.na</span>(accel_filtvel) <span class="sc">&amp;</span></span>
<span id="cb28-62"><a href="#cb28-62" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!</span><span class="fu">is.infinite</span>(accel) <span class="sc">&amp;</span></span>
<span id="cb28-63"><a href="#cb28-63" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!</span><span class="fu">is.infinite</span>(accel_filtvel),</span>
<span id="cb28-64"><a href="#cb28-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-65"><a href="#cb28-65" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">:=</span><span class="st">`</span>(</span>
<span id="cb28-66"><a href="#cb28-66" aria-hidden="true" tabindex="-1"></a>    <span class="at">accelfilt =</span> <span class="fu">filtfilt</span>(b_10hz, accel),</span>
<span id="cb28-67"><a href="#cb28-67" aria-hidden="true" tabindex="-1"></a>    <span class="at">accel_filtvel_filt =</span> <span class="fu">filtfilt</span>(b_10hz, accel_filtvel),</span>
<span id="cb28-68"><a href="#cb28-68" aria-hidden="true" tabindex="-1"></a>    <span class="at">combined_acc_filt =</span> <span class="fu">filtfilt</span>(b_10hz, combined_acc)</span>
<span id="cb28-69"><a href="#cb28-69" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb28-70"><a href="#cb28-70" aria-hidden="true" tabindex="-1"></a>  by <span class="ot">=</span> <span class="fu">c</span>(</span>
<span id="cb28-71"><a href="#cb28-71" aria-hidden="true" tabindex="-1"></a>    <span class="st">"ppid"</span>,</span>
<span id="cb28-72"><a href="#cb28-72" aria-hidden="true" tabindex="-1"></a>    <span class="st">"block_num"</span>,</span>
<span id="cb28-73"><a href="#cb28-73" aria-hidden="true" tabindex="-1"></a>    <span class="st">"trial_num_in_block"</span>,</span>
<span id="cb28-74"><a href="#cb28-74" aria-hidden="true" tabindex="-1"></a>      <span class="st">"filter"</span></span>
<span id="cb28-75"><a href="#cb28-75" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb28-76"><a href="#cb28-76" aria-hidden="true" tabindex="-1"></a>][<span class="fu">order</span>(ppid, block_num, trial_num_in_block, filter, time_ms)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="movement-onset" class="level1">
<h1>Movement Onset</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Write full data for plotting individual trials/visual quality checks.</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>steamvr_filt_ <span class="ot">&lt;-</span> steamvr_filt[</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>  phase <span class="sc">!=</span> <span class="st">"buffer"</span> <span class="sc">&amp;</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>    filter <span class="sc">==</span> <span class="st">"10hz"</span> <span class="sc">&amp;</span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Remove cases that would break analyses-</span></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># these are at the ends of the movement when the markers are hopping around.</span></span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!</span><span class="fu">is.infinite</span>(velocity_10hz) <span class="sc">&amp;</span></span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!</span><span class="fu">is.infinite</span>(combined_acc) <span class="sc">&amp;</span></span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!</span><span class="fu">is.infinite</span>(accel_filtvel),</span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a>  .(</span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a>    ppid,</span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a>    time, block_num,</span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a>    trial_num_in_block, phase,</span>
<span id="cb29-14"><a href="#cb29-14" aria-hidden="true" tabindex="-1"></a>    time_ms, time_ms_perphase,</span>
<span id="cb29-15"><a href="#cb29-15" aria-hidden="true" tabindex="-1"></a>    velocity_10hz, velocity_combined,</span>
<span id="cb29-16"><a href="#cb29-16" aria-hidden="true" tabindex="-1"></a>    ovr_vel, ovr_acc, ovr_acc_10hz, combined_acc_filt,</span>
<span id="cb29-17"><a href="#cb29-17" aria-hidden="true" tabindex="-1"></a>    <span class="co">#velocity,accel, accelfilt, accel_filtvel,</span></span>
<span id="cb29-18"><a href="#cb29-18" aria-hidden="true" tabindex="-1"></a>    accel_filtvel_filt</span>
<span id="cb29-19"><a href="#cb29-19" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb29-20"><a href="#cb29-20" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb29-21"><a href="#cb29-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-22"><a href="#cb29-22" aria-hidden="true" tabindex="-1"></a>steamvr_filt_latfix <span class="ot">&lt;-</span> <span class="fu">merge</span>(</span>
<span id="cb29-23"><a href="#cb29-23" aria-hidden="true" tabindex="-1"></a>  steamvr_filt_,</span>
<span id="cb29-24"><a href="#cb29-24" aria-hidden="true" tabindex="-1"></a>  manual_latency_fix,</span>
<span id="cb29-25"><a href="#cb29-25" aria-hidden="true" tabindex="-1"></a>  <span class="at">by =</span> <span class="fu">c</span>(</span>
<span id="cb29-26"><a href="#cb29-26" aria-hidden="true" tabindex="-1"></a>    <span class="st">"ppid"</span>,</span>
<span id="cb29-27"><a href="#cb29-27" aria-hidden="true" tabindex="-1"></a>    <span class="st">"trial_num_in_block"</span>,</span>
<span id="cb29-28"><a href="#cb29-28" aria-hidden="true" tabindex="-1"></a>    <span class="st">"time"</span></span>
<span id="cb29-29"><a href="#cb29-29" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb29-30"><a href="#cb29-30" aria-hidden="true" tabindex="-1"></a>  <span class="at">all.x =</span> <span class="cn">TRUE</span></span>
<span id="cb29-31"><a href="#cb29-31" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb29-32"><a href="#cb29-32" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb29-33"><a href="#cb29-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">start_time =</span> <span class="fu">fifelse</span>(</span>
<span id="cb29-34"><a href="#cb29-34" aria-hidden="true" tabindex="-1"></a>      <span class="sc">!</span><span class="fu">is.na</span>(start_time),</span>
<span id="cb29-35"><a href="#cb29-35" aria-hidden="true" tabindex="-1"></a>      start_time,</span>
<span id="cb29-36"><a href="#cb29-36" aria-hidden="true" tabindex="-1"></a>      <span class="dv">0</span></span>
<span id="cb29-37"><a href="#cb29-37" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb29-38"><a href="#cb29-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">ovr_start_time =</span> <span class="fu">fifelse</span>(</span>
<span id="cb29-39"><a href="#cb29-39" aria-hidden="true" tabindex="-1"></a>      <span class="sc">!</span><span class="fu">is.na</span>(ovr_start_time),</span>
<span id="cb29-40"><a href="#cb29-40" aria-hidden="true" tabindex="-1"></a>      ovr_start_time,</span>
<span id="cb29-41"><a href="#cb29-41" aria-hidden="true" tabindex="-1"></a>      <span class="dv">0</span></span>
<span id="cb29-42"><a href="#cb29-42" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb29-43"><a href="#cb29-43" aria-hidden="true" tabindex="-1"></a>    <span class="at">combined_start_time =</span> <span class="fu">fifelse</span>(</span>
<span id="cb29-44"><a href="#cb29-44" aria-hidden="true" tabindex="-1"></a>      <span class="sc">!</span><span class="fu">is.na</span>(combined_start_time),</span>
<span id="cb29-45"><a href="#cb29-45" aria-hidden="true" tabindex="-1"></a>      combined_start_time,</span>
<span id="cb29-46"><a href="#cb29-46" aria-hidden="true" tabindex="-1"></a>      <span class="dv">0</span></span>
<span id="cb29-47"><a href="#cb29-47" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb29-48"><a href="#cb29-48" aria-hidden="true" tabindex="-1"></a>    <span class="at">time_ms_fix =</span> time_ms <span class="sc">-</span> start_time,</span>
<span id="cb29-49"><a href="#cb29-49" aria-hidden="true" tabindex="-1"></a>    <span class="at">ovr_time_ms_fix =</span> time_ms <span class="sc">-</span> ovr_start_time,</span>
<span id="cb29-50"><a href="#cb29-50" aria-hidden="true" tabindex="-1"></a>    <span class="at">combined_time_ms_fix =</span> time_ms <span class="sc">-</span> combined_start_time</span>
<span id="cb29-51"><a href="#cb29-51" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb29-52"><a href="#cb29-52" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(time_ms_fix <span class="sc">&gt;</span> <span class="dv">0</span> <span class="sc">|</span> ovr_start_time <span class="sc">&gt;</span> <span class="dv">0</span> <span class="sc">|</span> combined_start_time <span class="sc">&gt;</span> <span class="dv">0</span>) <span class="sc">%&gt;%</span></span>
<span id="cb29-53"><a href="#cb29-53" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(</span>
<span id="cb29-54"><a href="#cb29-54" aria-hidden="true" tabindex="-1"></a>    ppid,</span>
<span id="cb29-55"><a href="#cb29-55" aria-hidden="true" tabindex="-1"></a>    time,</span>
<span id="cb29-56"><a href="#cb29-56" aria-hidden="true" tabindex="-1"></a>    trial_num_in_block,</span>
<span id="cb29-57"><a href="#cb29-57" aria-hidden="true" tabindex="-1"></a>    time_ms</span>
<span id="cb29-58"><a href="#cb29-58" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb29-59"><a href="#cb29-59" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.data.table</span>()</span>
<span id="cb29-60"><a href="#cb29-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-61"><a href="#cb29-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-62"><a href="#cb29-62" aria-hidden="true" tabindex="-1"></a><span class="co"># Set start time as the first sample where velocity changes</span></span>
<span id="cb29-63"><a href="#cb29-63" aria-hidden="true" tabindex="-1"></a><span class="co"># by 50 over the subsequent 5 samples. When a manual start</span></span>
<span id="cb29-64"><a href="#cb29-64" aria-hidden="true" tabindex="-1"></a><span class="co"># time is specified, use that instead.</span></span>
<span id="cb29-65"><a href="#cb29-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-66"><a href="#cb29-66" aria-hidden="true" tabindex="-1"></a>steamvr_filt_latfix[</span>
<span id="cb29-67"><a href="#cb29-67" aria-hidden="true" tabindex="-1"></a>  ,</span>
<span id="cb29-68"><a href="#cb29-68" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">:=</span><span class="st">`</span>(</span>
<span id="cb29-69"><a href="#cb29-69" aria-hidden="true" tabindex="-1"></a>    <span class="at">leadvel =</span> <span class="fu">lead</span>(velocity_10hz, <span class="dv">10</span>),</span>
<span id="cb29-70"><a href="#cb29-70" aria-hidden="true" tabindex="-1"></a>  <span class="at">leadovr =</span> <span class="fu">lead</span>(ovr_vel, <span class="dv">10</span>),</span>
<span id="cb29-71"><a href="#cb29-71" aria-hidden="true" tabindex="-1"></a>  <span class="at">leadcombined =</span> <span class="fu">lead</span>(velocity_combined, <span class="dv">10</span>)</span>
<span id="cb29-72"><a href="#cb29-72" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb29-73"><a href="#cb29-73" aria-hidden="true" tabindex="-1"></a>  by <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"ppid"</span>, <span class="st">"trial_num_in_block"</span>, <span class="st">"time"</span>)</span>
<span id="cb29-74"><a href="#cb29-74" aria-hidden="true" tabindex="-1"></a>  ][</span>
<span id="cb29-75"><a href="#cb29-75" aria-hidden="true" tabindex="-1"></a>  ,</span>
<span id="cb29-76"><a href="#cb29-76" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">:=</span><span class="st">`</span>(</span>
<span id="cb29-77"><a href="#cb29-77" aria-hidden="true" tabindex="-1"></a>    <span class="at">dif =</span> <span class="sc">-</span>(velocity_10hz <span class="sc">-</span> leadvel),</span>
<span id="cb29-78"><a href="#cb29-78" aria-hidden="true" tabindex="-1"></a>    <span class="at">difovr =</span> <span class="sc">-</span>(ovr_vel <span class="sc">-</span> leadovr),</span>
<span id="cb29-79"><a href="#cb29-79" aria-hidden="true" tabindex="-1"></a>    <span class="at">difcombined =</span> <span class="sc">-</span>(velocity_combined <span class="sc">-</span> leadcombined)</span>
<span id="cb29-80"><a href="#cb29-80" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb29-81"><a href="#cb29-81" aria-hidden="true" tabindex="-1"></a>  ][,</span>
<span id="cb29-82"><a href="#cb29-82" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">:=</span><span class="st">`</span>(</span>
<span id="cb29-83"><a href="#cb29-83" aria-hidden="true" tabindex="-1"></a>    <span class="at">start_time =</span> <span class="fu">fifelse</span>(start_time <span class="sc">!=</span> <span class="dv">0</span>, start_time,</span>
<span id="cb29-84"><a href="#cb29-84" aria-hidden="true" tabindex="-1"></a>      .SD[</span>
<span id="cb29-85"><a href="#cb29-85" aria-hidden="true" tabindex="-1"></a>        (<span class="sc">!</span>phase <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"replace"</span>, <span class="st">"return"</span>, <span class="st">"returned"</span>)) </span>
<span id="cb29-86"><a href="#cb29-86" aria-hidden="true" tabindex="-1"></a>        <span class="sc">&amp;</span> dif <span class="sc">&gt;</span> <span class="dv">25</span>]<span class="sc">$</span>time_ms[<span class="dv">1</span>],</span>
<span id="cb29-87"><a href="#cb29-87" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb29-88"><a href="#cb29-88" aria-hidden="true" tabindex="-1"></a>    <span class="at">ovr_start_time =</span> <span class="fu">fifelse</span>(ovr_start_time <span class="sc">!=</span> <span class="dv">0</span>, ovr_start_time,</span>
<span id="cb29-89"><a href="#cb29-89" aria-hidden="true" tabindex="-1"></a>      .SD[</span>
<span id="cb29-90"><a href="#cb29-90" aria-hidden="true" tabindex="-1"></a>        (<span class="sc">!</span>phase <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"replace"</span>, <span class="st">"return"</span>, <span class="st">"returned"</span>)) </span>
<span id="cb29-91"><a href="#cb29-91" aria-hidden="true" tabindex="-1"></a>        <span class="sc">&amp;</span> difovr <span class="sc">&gt;</span> <span class="dv">25</span>]<span class="sc">$</span>time_ms[<span class="dv">1</span>],</span>
<span id="cb29-92"><a href="#cb29-92" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb29-93"><a href="#cb29-93" aria-hidden="true" tabindex="-1"></a>    <span class="at">combined_start_time =</span> <span class="fu">fifelse</span>(combined_start_time <span class="sc">!=</span> <span class="dv">0</span>, combined_start_time,</span>
<span id="cb29-94"><a href="#cb29-94" aria-hidden="true" tabindex="-1"></a>      .SD[</span>
<span id="cb29-95"><a href="#cb29-95" aria-hidden="true" tabindex="-1"></a>        (<span class="sc">!</span>phase <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"replace"</span>, <span class="st">"return"</span>, <span class="st">"returned"</span>)) </span>
<span id="cb29-96"><a href="#cb29-96" aria-hidden="true" tabindex="-1"></a>        <span class="sc">&amp;</span> difcombined <span class="sc">&gt;</span> <span class="dv">25</span>]<span class="sc">$</span>time_ms[<span class="dv">1</span>],</span>
<span id="cb29-97"><a href="#cb29-97" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb29-98"><a href="#cb29-98" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb29-99"><a href="#cb29-99" aria-hidden="true" tabindex="-1"></a>  by <span class="ot">=</span> <span class="fu">c</span>(</span>
<span id="cb29-100"><a href="#cb29-100" aria-hidden="true" tabindex="-1"></a>    <span class="st">"ppid"</span>,</span>
<span id="cb29-101"><a href="#cb29-101" aria-hidden="true" tabindex="-1"></a>    <span class="st">"trial_num_in_block"</span>,</span>
<span id="cb29-102"><a href="#cb29-102" aria-hidden="true" tabindex="-1"></a>    <span class="st">"time"</span></span>
<span id="cb29-103"><a href="#cb29-103" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb29-104"><a href="#cb29-104" aria-hidden="true" tabindex="-1"></a>  ][</span>
<span id="cb29-105"><a href="#cb29-105" aria-hidden="true" tabindex="-1"></a>  ,</span>
<span id="cb29-106"><a href="#cb29-106" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-107"><a href="#cb29-107" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">:=</span><span class="st">`</span>(</span>
<span id="cb29-108"><a href="#cb29-108" aria-hidden="true" tabindex="-1"></a>      <span class="at">order =</span> <span class="fu">case_when</span>(</span>
<span id="cb29-109"><a href="#cb29-109" aria-hidden="true" tabindex="-1"></a>          block_num <span class="sc">&lt;</span> <span class="dv">3</span> <span class="sc">~</span> <span class="st">"pre"</span>,</span>
<span id="cb29-110"><a href="#cb29-110" aria-hidden="true" tabindex="-1"></a>          block_num <span class="sc">==</span> <span class="dv">4</span> <span class="sc">~</span> <span class="st">"first"</span>,</span>
<span id="cb29-111"><a href="#cb29-111" aria-hidden="true" tabindex="-1"></a>          block_num <span class="sc">==</span> <span class="dv">5</span> <span class="sc">~</span> <span class="st">"second"</span></span>
<span id="cb29-112"><a href="#cb29-112" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb29-113"><a href="#cb29-113" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb29-114"><a href="#cb29-114" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb29-115"><a href="#cb29-115" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-116"><a href="#cb29-116" aria-hidden="true" tabindex="-1"></a><span class="co"># Merge with manually-identified start points</span></span>
<span id="cb29-117"><a href="#cb29-117" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-118"><a href="#cb29-118" aria-hidden="true" tabindex="-1"></a>time_correction <span class="ot">&lt;-</span> steamvr_filt_latfix[,</span>
<span id="cb29-119"><a href="#cb29-119" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">:=</span><span class="st">`</span>(</span>
<span id="cb29-120"><a href="#cb29-120" aria-hidden="true" tabindex="-1"></a>    <span class="at">time_ms_fix =</span> time_ms <span class="sc">-</span> start_time,</span>
<span id="cb29-121"><a href="#cb29-121" aria-hidden="true" tabindex="-1"></a>    <span class="at">ovr_time_ms_fix =</span> time_ms <span class="sc">-</span> ovr_start_time,</span>
<span id="cb29-122"><a href="#cb29-122" aria-hidden="true" tabindex="-1"></a>    <span class="at">combined_time_ms_fix =</span> time_ms <span class="sc">-</span> combined_start_time</span>
<span id="cb29-123"><a href="#cb29-123" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb29-124"><a href="#cb29-124" aria-hidden="true" tabindex="-1"></a>  by <span class="ot">=</span> <span class="fu">c</span>(</span>
<span id="cb29-125"><a href="#cb29-125" aria-hidden="true" tabindex="-1"></a>    <span class="st">"ppid"</span>,</span>
<span id="cb29-126"><a href="#cb29-126" aria-hidden="true" tabindex="-1"></a>    <span class="st">"trial_num_in_block"</span>,</span>
<span id="cb29-127"><a href="#cb29-127" aria-hidden="true" tabindex="-1"></a>    <span class="st">"time"</span></span>
<span id="cb29-128"><a href="#cb29-128" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb29-129"><a href="#cb29-129" aria-hidden="true" tabindex="-1"></a>] <span class="sc">%&gt;%</span></span>
<span id="cb29-130"><a href="#cb29-130" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(ppid, time, trial_num_in_block, time_ms)</span>
<span id="cb29-131"><a href="#cb29-131" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-132"><a href="#cb29-132" aria-hidden="true" tabindex="-1"></a><span class="fu">fwrite</span>(time_correction, here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data"</span>, <span class="st">"study_three"</span>, <span class="st">"steamvr_m_fulltrials.csv"</span>))</span>
<span id="cb29-133"><a href="#cb29-133" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-134"><a href="#cb29-134" aria-hidden="true" tabindex="-1"></a>start_times <span class="ot">&lt;-</span> time_correction[, </span>
<span id="cb29-135"><a href="#cb29-135" aria-hidden="true" tabindex="-1"></a>.(<span class="at">start_time =</span> <span class="fu">median</span>(start_time),</span>
<span id="cb29-136"><a href="#cb29-136" aria-hidden="true" tabindex="-1"></a><span class="at">ovr_start_time =</span> <span class="fu">median</span>(ovr_start_time),</span>
<span id="cb29-137"><a href="#cb29-137" aria-hidden="true" tabindex="-1"></a><span class="at">combined_start_time =</span> <span class="fu">median</span>(combined_start_time)</span>
<span id="cb29-138"><a href="#cb29-138" aria-hidden="true" tabindex="-1"></a>), </span>
<span id="cb29-139"><a href="#cb29-139" aria-hidden="true" tabindex="-1"></a>by <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"ppid"</span>, <span class="st">"trial_num_in_block"</span>, <span class="st">"time"</span>)</span>
<span id="cb29-140"><a href="#cb29-140" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb29-141"><a href="#cb29-141" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-142"><a href="#cb29-142" aria-hidden="true" tabindex="-1"></a>start_times <span class="sc">%&gt;%</span></span>
<span id="cb29-143"><a href="#cb29-143" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fwrite</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data"</span>, <span class="st">"study_three"</span>, <span class="st">"steamvr_start_times.csv"</span>))</span>
<span id="cb29-144"><a href="#cb29-144" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-145"><a href="#cb29-145" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-146"><a href="#cb29-146" aria-hidden="true" tabindex="-1"></a><span class="co"># Manual data fixes/filters</span></span>
<span id="cb29-147"><a href="#cb29-147" aria-hidden="true" tabindex="-1"></a>steamvr_m <span class="ot">&lt;-</span> time_correction[</span>
<span id="cb29-148"><a href="#cb29-148" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Only beginning and out phases, 10hz filter. Remove values that would break an analysis.</span></span>
<span id="cb29-149"><a href="#cb29-149" aria-hidden="true" tabindex="-1"></a>  phase <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"begin"</span>, <span class="st">"out"</span>) <span class="sc">&amp;</span></span>
<span id="cb29-150"><a href="#cb29-150" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!</span><span class="fu">is.infinite</span>(velocity_10hz) <span class="sc">&amp;</span></span>
<span id="cb29-151"><a href="#cb29-151" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!</span><span class="fu">is.infinite</span>(ovr_vel) <span class="sc">&amp;</span></span>
<span id="cb29-152"><a href="#cb29-152" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!</span><span class="fu">is.infinite</span>(accel_filtvel_filt) <span class="sc">&amp;</span></span>
<span id="cb29-153"><a href="#cb29-153" aria-hidden="true" tabindex="-1"></a>    time_ms_fix <span class="sc">&gt;=</span> <span class="dv">0</span>,</span>
<span id="cb29-154"><a href="#cb29-154" aria-hidden="true" tabindex="-1"></a>  ][</span>
<span id="cb29-155"><a href="#cb29-155" aria-hidden="true" tabindex="-1"></a>  ,</span>
<span id="cb29-156"><a href="#cb29-156" aria-hidden="true" tabindex="-1"></a>  .(</span>
<span id="cb29-157"><a href="#cb29-157" aria-hidden="true" tabindex="-1"></a>    ppid, time, phase, order,</span>
<span id="cb29-158"><a href="#cb29-158" aria-hidden="true" tabindex="-1"></a>    block_num, trial_num_in_block,</span>
<span id="cb29-159"><a href="#cb29-159" aria-hidden="true" tabindex="-1"></a>    time_ms_perphase, </span>
<span id="cb29-160"><a href="#cb29-160" aria-hidden="true" tabindex="-1"></a>    time_ms, time_ms_fix, ovr_time_ms_fix, combined_time_ms_fix,</span>
<span id="cb29-161"><a href="#cb29-161" aria-hidden="true" tabindex="-1"></a>    ovr_vel, ovr_acc_10hz, combined_acc_filt,</span>
<span id="cb29-162"><a href="#cb29-162" aria-hidden="true" tabindex="-1"></a>    velocity_10hz, velocity_combined,</span>
<span id="cb29-163"><a href="#cb29-163" aria-hidden="true" tabindex="-1"></a>    <span class="co">#velocity, accel, accelfilt, accel_filtvel,</span></span>
<span id="cb29-164"><a href="#cb29-164" aria-hidden="true" tabindex="-1"></a>    accel_filtvel_filt</span>
<span id="cb29-165"><a href="#cb29-165" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb29-166"><a href="#cb29-166" aria-hidden="true" tabindex="-1"></a>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="individualized-adjustments" class="level1">
<h1>Individualized Adjustments</h1>
<p>The below code lays out the individualized adjustments made to ensure the correct peaks and latencies are chosen for each participant. To see the consequences of these choices, see the individual trial plots in 01b_reaching_trials.qmd.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>steamvr_m_ <span class="ot">&lt;-</span> steamvr_m[</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!</span>(ppid <span class="sc">==</span> <span class="st">"d3-006"</span> <span class="sc">&amp;</span> trial_num_in_block <span class="sc">==</span> <span class="dv">11</span> <span class="sc">&amp;</span> time <span class="sc">==</span> <span class="st">"pre"</span> <span class="sc">&amp;</span> time_ms_fix <span class="sc">&gt;</span> <span class="dv">1000</span>)</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>][,</span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Compute kinematic peaks and latencies</span></span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Fcase (fast case-when) used to specify individual adjustments</span></span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># When a parameter is not salvageable, it is set to 0 and filtered out after this step</span></span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>    <span class="co"># due to fcase's constraint that all output values must share type.</span></span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Kinematic value calculations not used in the final analysis are commented out.</span></span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a>    .(</span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Filtered peaks (10hz butterworth)</span></span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">vel_m_filt =</span> <span class="fu">max</span>(velocity_10hz, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a>        <span class="at">ovr_vel_m_filt =</span> <span class="fu">max</span>(ovr_vel, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb30-13"><a href="#cb30-13" aria-hidden="true" tabindex="-1"></a>        <span class="at">combined_vel =</span> <span class="fu">max</span>(velocity_combined, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb30-14"><a href="#cb30-14" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Filtered latencies</span></span>
<span id="cb30-15"><a href="#cb30-15" aria-hidden="true" tabindex="-1"></a>        <span class="at">vel_lat_filt =</span> .SD[</span>
<span id="cb30-16"><a href="#cb30-16" aria-hidden="true" tabindex="-1"></a>            <span class="fu">which.max</span>(velocity_10hz),</span>
<span id="cb30-17"><a href="#cb30-17" aria-hidden="true" tabindex="-1"></a>            time_ms_fix</span>
<span id="cb30-18"><a href="#cb30-18" aria-hidden="true" tabindex="-1"></a>        ][<span class="dv">1</span>],</span>
<span id="cb30-19"><a href="#cb30-19" aria-hidden="true" tabindex="-1"></a>        <span class="at">ovr_vel_lat_filt =</span> .SD[</span>
<span id="cb30-20"><a href="#cb30-20" aria-hidden="true" tabindex="-1"></a>            <span class="fu">which.max</span>(ovr_vel),</span>
<span id="cb30-21"><a href="#cb30-21" aria-hidden="true" tabindex="-1"></a>            ovr_time_ms_fix</span>
<span id="cb30-22"><a href="#cb30-22" aria-hidden="true" tabindex="-1"></a>        ][<span class="dv">1</span>],</span>
<span id="cb30-23"><a href="#cb30-23" aria-hidden="true" tabindex="-1"></a>        <span class="at">combined_vel_lat =</span> .SD[</span>
<span id="cb30-24"><a href="#cb30-24" aria-hidden="true" tabindex="-1"></a>            <span class="fu">which.max</span>(velocity_combined),</span>
<span id="cb30-25"><a href="#cb30-25" aria-hidden="true" tabindex="-1"></a>            combined_time_ms_fix</span>
<span id="cb30-26"><a href="#cb30-26" aria-hidden="true" tabindex="-1"></a>        ][<span class="dv">1</span>],</span>
<span id="cb30-27"><a href="#cb30-27" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Peak Accel</span></span>
<span id="cb30-28"><a href="#cb30-28" aria-hidden="true" tabindex="-1"></a>        <span class="at">acc_m_filtfilt =</span> <span class="fu">max</span>(accel_filtvel_filt, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb30-29"><a href="#cb30-29" aria-hidden="true" tabindex="-1"></a>        <span class="at">ovr_acc_m_filtfilt =</span> <span class="fu">max</span>(ovr_acc_10hz, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb30-30"><a href="#cb30-30" aria-hidden="true" tabindex="-1"></a>        <span class="at">combined_acc =</span> <span class="fu">max</span>(combined_acc_filt, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb30-31"><a href="#cb30-31" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Peak Decel</span></span>
<span id="cb30-32"><a href="#cb30-32" aria-hidden="true" tabindex="-1"></a>        <span class="at">dec_m_filtfilt =</span></span>
<span id="cb30-33"><a href="#cb30-33" aria-hidden="true" tabindex="-1"></a>            <span class="fu">fcase</span>(</span>
<span id="cb30-34"><a href="#cb30-34" aria-hidden="true" tabindex="-1"></a>                (ppid <span class="sc">==</span> <span class="st">"d3-004"</span> <span class="sc">&amp;</span></span>
<span id="cb30-35"><a href="#cb30-35" aria-hidden="true" tabindex="-1"></a>                 trial_num_in_block <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>) <span class="sc">&amp;</span></span>
<span id="cb30-36"><a href="#cb30-36" aria-hidden="true" tabindex="-1"></a>                 time <span class="sc">==</span> <span class="st">"post"</span>),</span>
<span id="cb30-37"><a href="#cb30-37" aria-hidden="true" tabindex="-1"></a>                <span class="fu">min</span>(</span>
<span id="cb30-38"><a href="#cb30-38" aria-hidden="true" tabindex="-1"></a>                    steamvr_m[</span>
<span id="cb30-39"><a href="#cb30-39" aria-hidden="true" tabindex="-1"></a>                        ppid <span class="sc">==</span> <span class="st">"d3-004"</span> <span class="sc">&amp;</span></span>
<span id="cb30-40"><a href="#cb30-40" aria-hidden="true" tabindex="-1"></a>                          trial_num_in_block <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>) <span class="sc">&amp;</span></span>
<span id="cb30-41"><a href="#cb30-41" aria-hidden="true" tabindex="-1"></a>                          time <span class="sc">==</span> <span class="st">"post"</span> <span class="sc">&amp;</span></span>
<span id="cb30-42"><a href="#cb30-42" aria-hidden="true" tabindex="-1"></a>                          time_ms_fix <span class="sc">&lt;</span> <span class="dv">1100</span>,</span>
<span id="cb30-43"><a href="#cb30-43" aria-hidden="true" tabindex="-1"></a>                        accel_filtvel_filt</span>
<span id="cb30-44"><a href="#cb30-44" aria-hidden="true" tabindex="-1"></a>                    ],</span>
<span id="cb30-45"><a href="#cb30-45" aria-hidden="true" tabindex="-1"></a>                    <span class="at">na.rm =</span> <span class="cn">TRUE</span></span>
<span id="cb30-46"><a href="#cb30-46" aria-hidden="true" tabindex="-1"></a>                ),</span>
<span id="cb30-47"><a href="#cb30-47" aria-hidden="true" tabindex="-1"></a>                <span class="at">default =</span> <span class="fu">min</span>(accel_filtvel_filt, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb30-48"><a href="#cb30-48" aria-hidden="true" tabindex="-1"></a>            ),</span>
<span id="cb30-49"><a href="#cb30-49" aria-hidden="true" tabindex="-1"></a>        <span class="at">ovr_dec_m_filtfilt =</span></span>
<span id="cb30-50"><a href="#cb30-50" aria-hidden="true" tabindex="-1"></a>            <span class="fu">fcase</span>(</span>
<span id="cb30-51"><a href="#cb30-51" aria-hidden="true" tabindex="-1"></a>                (ppid <span class="sc">==</span> <span class="st">"d3-004"</span> <span class="sc">&amp;</span></span>
<span id="cb30-52"><a href="#cb30-52" aria-hidden="true" tabindex="-1"></a>                 trial_num_in_block <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>) <span class="sc">&amp;</span></span>
<span id="cb30-53"><a href="#cb30-53" aria-hidden="true" tabindex="-1"></a>                 time <span class="sc">==</span> <span class="st">"post"</span>),</span>
<span id="cb30-54"><a href="#cb30-54" aria-hidden="true" tabindex="-1"></a>                <span class="fu">min</span>(</span>
<span id="cb30-55"><a href="#cb30-55" aria-hidden="true" tabindex="-1"></a>                    steamvr_m[</span>
<span id="cb30-56"><a href="#cb30-56" aria-hidden="true" tabindex="-1"></a>                        ppid <span class="sc">==</span> <span class="st">"d3-004"</span> <span class="sc">&amp;</span></span>
<span id="cb30-57"><a href="#cb30-57" aria-hidden="true" tabindex="-1"></a>                          trial_num_in_block <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>) <span class="sc">&amp;</span></span>
<span id="cb30-58"><a href="#cb30-58" aria-hidden="true" tabindex="-1"></a>                          time <span class="sc">==</span> <span class="st">"post"</span> <span class="sc">&amp;</span></span>
<span id="cb30-59"><a href="#cb30-59" aria-hidden="true" tabindex="-1"></a>                          time_ms_fix <span class="sc">&lt;</span> <span class="dv">1100</span>,</span>
<span id="cb30-60"><a href="#cb30-60" aria-hidden="true" tabindex="-1"></a>                        ovr_acc_10hz</span>
<span id="cb30-61"><a href="#cb30-61" aria-hidden="true" tabindex="-1"></a>                    ],</span>
<span id="cb30-62"><a href="#cb30-62" aria-hidden="true" tabindex="-1"></a>                    <span class="at">na.rm =</span> <span class="cn">TRUE</span></span>
<span id="cb30-63"><a href="#cb30-63" aria-hidden="true" tabindex="-1"></a>                ),</span>
<span id="cb30-64"><a href="#cb30-64" aria-hidden="true" tabindex="-1"></a>                <span class="at">default =</span> <span class="fu">min</span>(ovr_acc_10hz, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb30-65"><a href="#cb30-65" aria-hidden="true" tabindex="-1"></a>            ),</span>
<span id="cb30-66"><a href="#cb30-66" aria-hidden="true" tabindex="-1"></a>        <span class="at">combined_dec =</span> <span class="fu">min</span>(combined_acc_filt, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb30-67"><a href="#cb30-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-68"><a href="#cb30-68" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Acc/Dec peaks &amp; Latencies when calculated from filtered velocity and filtered again</span></span>
<span id="cb30-69"><a href="#cb30-69" aria-hidden="true" tabindex="-1"></a>        <span class="co"># which.max and which.min used to find index of peak and extract the time_ms_fix value</span></span>
<span id="cb30-70"><a href="#cb30-70" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Peak Accel Latency</span></span>
<span id="cb30-71"><a href="#cb30-71" aria-hidden="true" tabindex="-1"></a>        <span class="at">acc_lat_filtfilt =</span> .SD[<span class="fu">which.max</span>(accel_filtvel_filt), time_ms_fix][<span class="dv">1</span>],</span>
<span id="cb30-72"><a href="#cb30-72" aria-hidden="true" tabindex="-1"></a>        <span class="at">ovr_acc_lat_filtfilt =</span> .SD[<span class="fu">which.max</span>(ovr_acc_10hz), ovr_time_ms_fix][<span class="dv">1</span>],</span>
<span id="cb30-73"><a href="#cb30-73" aria-hidden="true" tabindex="-1"></a>        <span class="at">combined_acc_lat =</span> .SD[<span class="fu">which.max</span>(combined_acc_filt), combined_time_ms_fix][<span class="dv">1</span>],</span>
<span id="cb30-74"><a href="#cb30-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-75"><a href="#cb30-75" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Peak Decel Latency</span></span>
<span id="cb30-76"><a href="#cb30-76" aria-hidden="true" tabindex="-1"></a>        <span class="at">dec_lat_filtfilt =</span> .SD[</span>
<span id="cb30-77"><a href="#cb30-77" aria-hidden="true" tabindex="-1"></a>            <span class="fu">which.min</span>(accel_filtvel_filt),</span>
<span id="cb30-78"><a href="#cb30-78" aria-hidden="true" tabindex="-1"></a>            time_ms_fix</span>
<span id="cb30-79"><a href="#cb30-79" aria-hidden="true" tabindex="-1"></a>        ][<span class="dv">1</span>],</span>
<span id="cb30-80"><a href="#cb30-80" aria-hidden="true" tabindex="-1"></a>        <span class="at">ovr_dec_lat_filtfilt =</span> .SD[</span>
<span id="cb30-81"><a href="#cb30-81" aria-hidden="true" tabindex="-1"></a>            <span class="fu">which.min</span>(ovr_acc_10hz),</span>
<span id="cb30-82"><a href="#cb30-82" aria-hidden="true" tabindex="-1"></a>            ovr_time_ms_fix</span>
<span id="cb30-83"><a href="#cb30-83" aria-hidden="true" tabindex="-1"></a>        ][<span class="dv">1</span>],</span>
<span id="cb30-84"><a href="#cb30-84" aria-hidden="true" tabindex="-1"></a>        <span class="at">combined_dec_lat =</span> .SD[</span>
<span id="cb30-85"><a href="#cb30-85" aria-hidden="true" tabindex="-1"></a>            <span class="fu">which.min</span>(combined_acc_filt),</span>
<span id="cb30-86"><a href="#cb30-86" aria-hidden="true" tabindex="-1"></a>            combined_time_ms_fix</span>
<span id="cb30-87"><a href="#cb30-87" aria-hidden="true" tabindex="-1"></a>        ][<span class="dv">1</span>]</span>
<span id="cb30-88"><a href="#cb30-88" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb30-89"><a href="#cb30-89" aria-hidden="true" tabindex="-1"></a>    by <span class="ot">=</span> <span class="fu">c</span>(</span>
<span id="cb30-90"><a href="#cb30-90" aria-hidden="true" tabindex="-1"></a>        <span class="st">"ppid"</span>,</span>
<span id="cb30-91"><a href="#cb30-91" aria-hidden="true" tabindex="-1"></a>        <span class="st">"order"</span>,</span>
<span id="cb30-92"><a href="#cb30-92" aria-hidden="true" tabindex="-1"></a>        <span class="st">"trial_num_in_block"</span>,</span>
<span id="cb30-93"><a href="#cb30-93" aria-hidden="true" tabindex="-1"></a>        <span class="st">"block_num"</span>,</span>
<span id="cb30-94"><a href="#cb30-94" aria-hidden="true" tabindex="-1"></a>        <span class="st">"time"</span></span>
<span id="cb30-95"><a href="#cb30-95" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb30-96"><a href="#cb30-96" aria-hidden="true" tabindex="-1"></a>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in min(steamvr_m[ppid == "d3-004" &amp; trial_num_in_block %in% c(1, : no
non-missing arguments to min; returning Inf</code></pre>
</div>
<div class="sourceCode cell-code" id="cb319"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb319-1"><a href="#cb319-1" aria-hidden="true" tabindex="-1"></a>steamvr_adjusted <span class="ot">&lt;-</span> steamvr_m_[</span>
<span id="cb319-2"><a href="#cb319-2" aria-hidden="true" tabindex="-1"></a>    ,</span>
<span id="cb319-3"><a href="#cb319-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">:=</span><span class="st">`</span>(</span>
<span id="cb319-4"><a href="#cb319-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">vel_m_filt =</span> <span class="fu">ifelse</span>(</span>
<span id="cb319-5"><a href="#cb319-5" aria-hidden="true" tabindex="-1"></a>            vel_m_filt <span class="sc">==</span> <span class="dv">0</span>,</span>
<span id="cb319-6"><a href="#cb319-6" aria-hidden="true" tabindex="-1"></a>            <span class="cn">NA</span>,</span>
<span id="cb319-7"><a href="#cb319-7" aria-hidden="true" tabindex="-1"></a>            vel_m_filt</span>
<span id="cb319-8"><a href="#cb319-8" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb319-9"><a href="#cb319-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">ovr_vel_m_filt =</span> <span class="fu">ifelse</span>(</span>
<span id="cb319-10"><a href="#cb319-10" aria-hidden="true" tabindex="-1"></a>            ovr_vel_m_filt <span class="sc">==</span> <span class="dv">0</span>,</span>
<span id="cb319-11"><a href="#cb319-11" aria-hidden="true" tabindex="-1"></a>            <span class="cn">NA</span>,</span>
<span id="cb319-12"><a href="#cb319-12" aria-hidden="true" tabindex="-1"></a>            ovr_vel_m_filt</span>
<span id="cb319-13"><a href="#cb319-13" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb319-14"><a href="#cb319-14" aria-hidden="true" tabindex="-1"></a>        <span class="at">combined_vel =</span> <span class="fu">ifelse</span>(</span>
<span id="cb319-15"><a href="#cb319-15" aria-hidden="true" tabindex="-1"></a>            combined_vel <span class="sc">==</span> <span class="dv">0</span>,</span>
<span id="cb319-16"><a href="#cb319-16" aria-hidden="true" tabindex="-1"></a>            <span class="cn">NA</span>,</span>
<span id="cb319-17"><a href="#cb319-17" aria-hidden="true" tabindex="-1"></a>            combined_vel</span>
<span id="cb319-18"><a href="#cb319-18" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb319-19"><a href="#cb319-19" aria-hidden="true" tabindex="-1"></a>        <span class="at">acc_m_filtfilt =</span> <span class="fu">ifelse</span>(</span>
<span id="cb319-20"><a href="#cb319-20" aria-hidden="true" tabindex="-1"></a>            acc_m_filtfilt <span class="sc">==</span> <span class="dv">0</span>,</span>
<span id="cb319-21"><a href="#cb319-21" aria-hidden="true" tabindex="-1"></a>            <span class="cn">NA</span>,</span>
<span id="cb319-22"><a href="#cb319-22" aria-hidden="true" tabindex="-1"></a>            acc_m_filtfilt</span>
<span id="cb319-23"><a href="#cb319-23" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb319-24"><a href="#cb319-24" aria-hidden="true" tabindex="-1"></a>        <span class="at">ovr_acc_m_filtfilt =</span> <span class="fu">ifelse</span>(</span>
<span id="cb319-25"><a href="#cb319-25" aria-hidden="true" tabindex="-1"></a>            ovr_acc_m_filtfilt <span class="sc">==</span> <span class="dv">0</span>,</span>
<span id="cb319-26"><a href="#cb319-26" aria-hidden="true" tabindex="-1"></a>            <span class="cn">NA</span>,</span>
<span id="cb319-27"><a href="#cb319-27" aria-hidden="true" tabindex="-1"></a>            ovr_acc_m_filtfilt</span>
<span id="cb319-28"><a href="#cb319-28" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb319-29"><a href="#cb319-29" aria-hidden="true" tabindex="-1"></a>        <span class="at">dec_m_filtfilt =</span> <span class="fu">ifelse</span>(</span>
<span id="cb319-30"><a href="#cb319-30" aria-hidden="true" tabindex="-1"></a>            dec_m_filtfilt <span class="sc">==</span> <span class="dv">0</span>,</span>
<span id="cb319-31"><a href="#cb319-31" aria-hidden="true" tabindex="-1"></a>            <span class="cn">NA</span>,</span>
<span id="cb319-32"><a href="#cb319-32" aria-hidden="true" tabindex="-1"></a>            dec_m_filtfilt</span>
<span id="cb319-33"><a href="#cb319-33" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb319-34"><a href="#cb319-34" aria-hidden="true" tabindex="-1"></a>        <span class="at">ovr_dec_m_filtfilt =</span> <span class="fu">ifelse</span>(</span>
<span id="cb319-35"><a href="#cb319-35" aria-hidden="true" tabindex="-1"></a>            ovr_dec_m_filtfilt <span class="sc">==</span> <span class="dv">0</span>,</span>
<span id="cb319-36"><a href="#cb319-36" aria-hidden="true" tabindex="-1"></a>            <span class="cn">NA</span>,</span>
<span id="cb319-37"><a href="#cb319-37" aria-hidden="true" tabindex="-1"></a>            ovr_dec_m_filtfilt</span>
<span id="cb319-38"><a href="#cb319-38" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb319-39"><a href="#cb319-39" aria-hidden="true" tabindex="-1"></a>        <span class="at">vel_lat_filt =</span> <span class="fu">ifelse</span>(</span>
<span id="cb319-40"><a href="#cb319-40" aria-hidden="true" tabindex="-1"></a>            vel_lat_filt <span class="sc">==</span> <span class="dv">0</span>,</span>
<span id="cb319-41"><a href="#cb319-41" aria-hidden="true" tabindex="-1"></a>            <span class="cn">NA</span>,</span>
<span id="cb319-42"><a href="#cb319-42" aria-hidden="true" tabindex="-1"></a>            vel_lat_filt</span>
<span id="cb319-43"><a href="#cb319-43" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb319-44"><a href="#cb319-44" aria-hidden="true" tabindex="-1"></a>        <span class="at">ovr_vel_lat_filt =</span> <span class="fu">ifelse</span>(</span>
<span id="cb319-45"><a href="#cb319-45" aria-hidden="true" tabindex="-1"></a>            ovr_vel_lat_filt <span class="sc">==</span> <span class="dv">0</span>,</span>
<span id="cb319-46"><a href="#cb319-46" aria-hidden="true" tabindex="-1"></a>            <span class="cn">NA</span>,</span>
<span id="cb319-47"><a href="#cb319-47" aria-hidden="true" tabindex="-1"></a>            ovr_vel_lat_filt</span>
<span id="cb319-48"><a href="#cb319-48" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb319-49"><a href="#cb319-49" aria-hidden="true" tabindex="-1"></a>        <span class="at">combined_vel_lat =</span> <span class="fu">ifelse</span>(</span>
<span id="cb319-50"><a href="#cb319-50" aria-hidden="true" tabindex="-1"></a>            combined_vel_lat <span class="sc">==</span> <span class="dv">0</span>,</span>
<span id="cb319-51"><a href="#cb319-51" aria-hidden="true" tabindex="-1"></a>            <span class="cn">NA</span>,</span>
<span id="cb319-52"><a href="#cb319-52" aria-hidden="true" tabindex="-1"></a>            combined_vel_lat</span>
<span id="cb319-53"><a href="#cb319-53" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb319-54"><a href="#cb319-54" aria-hidden="true" tabindex="-1"></a>        <span class="at">acc_lat_filtfilt =</span> <span class="fu">ifelse</span>(</span>
<span id="cb319-55"><a href="#cb319-55" aria-hidden="true" tabindex="-1"></a>            acc_lat_filtfilt <span class="sc">==</span> <span class="dv">0</span>,</span>
<span id="cb319-56"><a href="#cb319-56" aria-hidden="true" tabindex="-1"></a>            <span class="cn">NA</span>,</span>
<span id="cb319-57"><a href="#cb319-57" aria-hidden="true" tabindex="-1"></a>            acc_lat_filtfilt</span>
<span id="cb319-58"><a href="#cb319-58" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb319-59"><a href="#cb319-59" aria-hidden="true" tabindex="-1"></a>        <span class="at">ovr_acc_lat_filtfilt =</span> <span class="fu">ifelse</span>(</span>
<span id="cb319-60"><a href="#cb319-60" aria-hidden="true" tabindex="-1"></a>            ovr_acc_lat_filtfilt <span class="sc">==</span> <span class="dv">0</span>,</span>
<span id="cb319-61"><a href="#cb319-61" aria-hidden="true" tabindex="-1"></a>            <span class="cn">NA</span>,</span>
<span id="cb319-62"><a href="#cb319-62" aria-hidden="true" tabindex="-1"></a>            ovr_acc_lat_filtfilt</span>
<span id="cb319-63"><a href="#cb319-63" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb319-64"><a href="#cb319-64" aria-hidden="true" tabindex="-1"></a>        <span class="at">dec_lat_filtfilt =</span> <span class="fu">ifelse</span>(</span>
<span id="cb319-65"><a href="#cb319-65" aria-hidden="true" tabindex="-1"></a>            dec_lat_filtfilt <span class="sc">==</span> <span class="dv">0</span>,</span>
<span id="cb319-66"><a href="#cb319-66" aria-hidden="true" tabindex="-1"></a>            <span class="cn">NA</span>,</span>
<span id="cb319-67"><a href="#cb319-67" aria-hidden="true" tabindex="-1"></a>            dec_lat_filtfilt</span>
<span id="cb319-68"><a href="#cb319-68" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb319-69"><a href="#cb319-69" aria-hidden="true" tabindex="-1"></a>        <span class="at">ovr_dec_lat_filtfilt =</span> <span class="fu">ifelse</span>(</span>
<span id="cb319-70"><a href="#cb319-70" aria-hidden="true" tabindex="-1"></a>            ovr_dec_lat_filtfilt <span class="sc">==</span> <span class="dv">0</span>,</span>
<span id="cb319-71"><a href="#cb319-71" aria-hidden="true" tabindex="-1"></a>            <span class="cn">NA</span>,</span>
<span id="cb319-72"><a href="#cb319-72" aria-hidden="true" tabindex="-1"></a>            ovr_dec_lat_filtfilt</span>
<span id="cb319-73"><a href="#cb319-73" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb319-74"><a href="#cb319-74" aria-hidden="true" tabindex="-1"></a>        <span class="at">combined_acc =</span> <span class="fu">ifelse</span>(</span>
<span id="cb319-75"><a href="#cb319-75" aria-hidden="true" tabindex="-1"></a>            combined_acc <span class="sc">==</span> <span class="dv">0</span>,</span>
<span id="cb319-76"><a href="#cb319-76" aria-hidden="true" tabindex="-1"></a>            <span class="cn">NA</span>,</span>
<span id="cb319-77"><a href="#cb319-77" aria-hidden="true" tabindex="-1"></a>            combined_acc</span>
<span id="cb319-78"><a href="#cb319-78" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb319-79"><a href="#cb319-79" aria-hidden="true" tabindex="-1"></a>        <span class="at">combined_dec =</span> <span class="fu">ifelse</span>(</span>
<span id="cb319-80"><a href="#cb319-80" aria-hidden="true" tabindex="-1"></a>            combined_dec <span class="sc">==</span> <span class="dv">0</span>,</span>
<span id="cb319-81"><a href="#cb319-81" aria-hidden="true" tabindex="-1"></a>            <span class="cn">NA</span>,</span>
<span id="cb319-82"><a href="#cb319-82" aria-hidden="true" tabindex="-1"></a>            combined_dec</span>
<span id="cb319-83"><a href="#cb319-83" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb319-84"><a href="#cb319-84" aria-hidden="true" tabindex="-1"></a>        <span class="at">combined_acc_lat =</span> <span class="fu">ifelse</span>(</span>
<span id="cb319-85"><a href="#cb319-85" aria-hidden="true" tabindex="-1"></a>            combined_acc_lat <span class="sc">==</span> <span class="dv">0</span>,</span>
<span id="cb319-86"><a href="#cb319-86" aria-hidden="true" tabindex="-1"></a>            <span class="cn">NA</span>,</span>
<span id="cb319-87"><a href="#cb319-87" aria-hidden="true" tabindex="-1"></a>            combined_acc_lat</span>
<span id="cb319-88"><a href="#cb319-88" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb319-89"><a href="#cb319-89" aria-hidden="true" tabindex="-1"></a>        <span class="at">combined_dec_lat =</span> <span class="fu">ifelse</span>(</span>
<span id="cb319-90"><a href="#cb319-90" aria-hidden="true" tabindex="-1"></a>            combined_dec_lat <span class="sc">==</span> <span class="dv">0</span>,</span>
<span id="cb319-91"><a href="#cb319-91" aria-hidden="true" tabindex="-1"></a>            <span class="cn">NA</span>,</span>
<span id="cb319-92"><a href="#cb319-92" aria-hidden="true" tabindex="-1"></a>            combined_dec_lat</span>
<span id="cb319-93"><a href="#cb319-93" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb319-94"><a href="#cb319-94" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb319-95"><a href="#cb319-95" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb319-96"><a href="#cb319-96" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb319-97"><a href="#cb319-97" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb319-98"><a href="#cb319-98" aria-hidden="true" tabindex="-1"></a>test <span class="ot">&lt;-</span> steamvr_adjusted[</span>
<span id="cb319-99"><a href="#cb319-99" aria-hidden="true" tabindex="-1"></a>  dec_lat_filtfilt <span class="sc">&lt;</span> acc_lat_filtfilt <span class="sc">|</span></span>
<span id="cb319-100"><a href="#cb319-100" aria-hidden="true" tabindex="-1"></a>    dec_lat_filtfilt <span class="sc">&lt;</span> vel_lat_filt <span class="sc">|</span></span>
<span id="cb319-101"><a href="#cb319-101" aria-hidden="true" tabindex="-1"></a>    acc_lat_filtfilt <span class="sc">&gt;</span> vel_lat_filt</span>
<span id="cb319-102"><a href="#cb319-102" aria-hidden="true" tabindex="-1"></a>    ]</span>
<span id="cb319-103"><a href="#cb319-103" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb319-104"><a href="#cb319-104" aria-hidden="true" tabindex="-1"></a>test</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     ppid order trial_num_in_block block_num time vel_m_filt ovr_vel_m_filt
1: d3-006   pre                 15         2  pre   877.9075       1243.078
   combined_vel vel_lat_filt ovr_vel_lat_filt combined_vel_lat acc_m_filtfilt
1:     1053.624          550              605              600       2406.103
   ovr_acc_m_filtfilt combined_acc dec_m_filtfilt ovr_dec_m_filtfilt
1:           4203.613     3164.078      -3298.128          -4644.024
   combined_dec acc_lat_filtfilt ovr_acc_lat_filtfilt combined_acc_lat
1:    -3966.291             1520                  205              200
   dec_lat_filtfilt ovr_dec_lat_filtfilt combined_dec_lat
1:              780                  775              775</code></pre>
</div>
</div>
</section>
<section id="removals-imputation-and-export" class="level1">
<h1>Removals, Imputation and Export</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb321"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb321-1"><a href="#cb321-1" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> <span class="fu">complete</span>(steamvr_adjusted, ppid, trial_num_in_block, time) <span class="sc">%&gt;%</span> <span class="fu">as.data.table</span>()</span>
<span id="cb321-2"><a href="#cb321-2" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> d[</span>
<span id="cb321-3"><a href="#cb321-3" aria-hidden="true" tabindex="-1"></a>  ,</span>
<span id="cb321-4"><a href="#cb321-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">:=</span><span class="st">`</span>(</span>
<span id="cb321-5"><a href="#cb321-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">ppid =</span> <span class="fu">factor</span>(ppid),</span>
<span id="cb321-6"><a href="#cb321-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">time =</span> <span class="fu">factor</span>(time),</span>
<span id="cb321-7"><a href="#cb321-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">trial_num_in_block =</span> <span class="fu">factor</span>(trial_num_in_block)</span>
<span id="cb321-8"><a href="#cb321-8" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb321-9"><a href="#cb321-9" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb321-10"><a href="#cb321-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb321-11"><a href="#cb321-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb321-12"><a href="#cb321-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Use a linear model to impute any missing trials</span></span>
<span id="cb321-13"><a href="#cb321-13" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1337</span>)</span>
<span id="cb321-14"><a href="#cb321-14" aria-hidden="true" tabindex="-1"></a>d_imputed <span class="ot">&lt;-</span> d <span class="sc">%&gt;%</span> </span>
<span id="cb321-15"><a href="#cb321-15" aria-hidden="true" tabindex="-1"></a>simputation<span class="sc">::</span><span class="fu">impute_mf</span>(</span>
<span id="cb321-16"><a href="#cb321-16" aria-hidden="true" tabindex="-1"></a>  <span class="at">formula =</span> vel_m_filt <span class="sc">+</span> vel_lat_filt </span>
<span id="cb321-17"><a href="#cb321-17" aria-hidden="true" tabindex="-1"></a>    <span class="sc">+</span> acc_m_filtfilt <span class="sc">+</span> dec_m_filtfilt </span>
<span id="cb321-18"><a href="#cb321-18" aria-hidden="true" tabindex="-1"></a>    <span class="sc">+</span> acc_lat_filtfilt <span class="sc">+</span> dec_lat_filtfilt </span>
<span id="cb321-19"><a href="#cb321-19" aria-hidden="true" tabindex="-1"></a>    <span class="sc">~</span> trial_num_in_block </span>
<span id="cb321-20"><a href="#cb321-20" aria-hidden="true" tabindex="-1"></a>    <span class="sc">+</span> ppid </span>
<span id="cb321-21"><a href="#cb321-21" aria-hidden="true" tabindex="-1"></a>    <span class="sc">+</span> time</span>
<span id="cb321-22"><a href="#cb321-22" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb321-23"><a href="#cb321-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb321-24"><a href="#cb321-24" aria-hidden="true" tabindex="-1"></a><span class="fu">fwrite</span>(</span>
<span id="cb321-25"><a href="#cb321-25" aria-hidden="true" tabindex="-1"></a>    d_imputed, here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data"</span>, <span class="st">"study_three"</span>, <span class="st">"steamvr_manual.csv"</span>)</span>
<span id="cb321-26"><a href="#cb321-26" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>